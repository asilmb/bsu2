function emailHelper(e,t){var n=$(".inputEmailHelper").parents(".rowBlock");0==n.hasClass("emailHelperCover")&&n.addClass("emailHelperCover").append('<div class="hintBlock"></div><div class="hiddenBlock"></div>');var o=$(".inputEmailHelper").val(),i=o.charAt(o.length-1),s=o.match(/@/g),r=s?s.length:0;o.charAt(o.length-1);$(".hiddenBlock").text(o);var a=o.split("@"),c=$(".hiddenBlock").width()+13,l=0,d=$(".inputEmailHelper").parents(".rowBlock").find(".hintBlock");if("@"==i&&1==r)d.css({left:c,display:"block"}).text(e[0]),l=0;else if(-1!=o.indexOf("@")){d.css({left:c,display:"block"});for(var u=a[1].length,p=!1,h=0;h<e.length;h++)e[h].substr(0,u)==a[1]&&0==p&&(d.text(e[h].substr(u)),p=!0,l=h);for(var f=0,h=0;h<o.length;h++)"@"==o[h]&&(f+=1);if(1==f){d.css({left:c,display:"block"});for(var u=a[1].length,p=!1,h=0;h<e.length;h++)e[h].substr(0,u)==a[1]&&0==p&&(d.text(e[h].substr(u)),p=!0,l=h);0==p&&$(".hintBlock").html("").css({display:"none"})}else $(".hintBlock").html("").css({display:"none"})}else $(".hintBlock").html("").css({display:"none"});1==t&&""!=d.html()&&($(".inputEmailHelper").val(a[0]+"@"+e[l]),$(".hintBlock").css({display:"none"})),$(".inputEmailHelper").removeClass("inputEmailHelper")}function noty(e){var t=0,n={animateOpen:"animation.open",animateClose:"animation.close",easing:"animation.easing",speed:"animation.speed",onShow:"callback.onShow",onShown:"callback.afterShow",onClose:"callback.onClose",onClosed:"callback.afterClose"};return jQuery.each(e,function(o,i){if(n[o]){t++;var s=n[o].split(".");e[s[0]]||(e[s[0]]={}),e[s[0]][s[1]]=i?i:function(){},delete e[o]}}),e.closeWith||(e.closeWith=jQuery.noty.defaults.closeWith),e.hasOwnProperty("closeButton")&&(t++,e.closeButton&&e.closeWith.push("button"),delete e.closeButton),e.hasOwnProperty("closeOnSelfClick")&&(t++,e.closeOnSelfClick&&e.closeWith.push("click"),delete e.closeOnSelfClick),e.hasOwnProperty("closeOnSelfOver")&&(t++,e.closeOnSelfOver&&e.closeWith.push("hover"),delete e.closeOnSelfOver),e.hasOwnProperty("custom")&&(t++,"null"!=e.custom.container&&(e.custom=e.custom.container)),e.hasOwnProperty("cssPrefix")&&(t++,delete e.cssPrefix),"noty_theme_default"==e.theme&&(t++,e.theme="default"),e.hasOwnProperty("dismissQueue")||("topLeft"==e.layout||"topRight"==e.layout||"bottomLeft"==e.layout||"bottomRight"==e.layout?e.dismissQueue=!0:e.dismissQueue=!1),e.buttons&&jQuery.each(e.buttons,function(e,n){n.click&&(t++,n.onClick=n.click,delete n.click),n.type&&(t++,n.addClass=n.type,delete n.type)}),t&&console.warn("You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options."),jQuery.notyRenderer.init(e)}function supportsStorage(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}function inputInit(){$(".styledForm").styler({selectVisibleOptions:5,onSelectOpened:function(){$(this).find("ul").jScrollPane({showArrows:!1}),markLongSelectItem("styledForm"),longSelectItemScrolling()}}),$(".styledForm").trigger("refresh")}function markLongSelectItem(e){$("."+e+" li").each(function(e,t){$(this).css("display","inline-block"),$(this).width()>$(this).parents("ul").width()&&$(this).addClass("longSelectItem"),$(this).css("display","block")})}function longSelectItemScrolling(){$(".longSelectItem").each(function(e,t){if(0==$(this).find("span").is("span")){var n=$(this).text();$(".longSelectItem").html("<span>"+n+"</span>")}var o=$(this).find("span").width()-$(".longSelectItem").parents("ul").width()+60;$(this).hasClass("movedItem")?(o=0,$(this).removeClass("movedItem")):(o=-1*o,$(this).addClass("movedItem")),$(this).find("span").delay(300).stop().animate({left:o},5e3,function(){longSelectItemScrolling()})})}function preloaderLine(e,t,n){e=$(e).parents(".importantForm").size()?$(".importantForm "+e):$(e);e.width();if($(n).length>0)if(e.parents(".importantForm").size()){e.offsetParent().addClass("offsetElement");var o=$(".importantForm").find(n).offset().top-$(".offsetElement").offset().top;$(".offsetElement").removeClass("offsetElement")}else var o=$(n).offset().top-e.offset().top;else var o=e.height()-40;void 0==t&&(t=""),e.find(".preloaderBlock").length||(e.prepend('<div class="preloaderBlock"><div class="PLCover"><div class="preloaderInc"></div><span class="text">'+t+"</span></div></div> "),e.find(".PLCover").css("top",o),0==(""===document.createElement("detect").style.animationName||""===document.createElement("detect").style.webkitAnimationName)&&e.find(".preloaderBlock").addClass("oldBrowser"))}function preloaderLineRemove(e){return $(e).find(".preloaderBlock").remove(),$(".importantForm").find(".preloaderBlock").remove(),!1}function shakeThat(e){$(e).addClass("shakeThat"),setTimeout(function(){$(e).removeClass("shakeThat")},500)}function isCapslock(e,t){e=e?e:window.event;var n=!1;e.which?n=e.which:e.keyCode&&(n=e.keyCode);var o=!1;return e.shiftKey?o=e.shiftKey:e.modifiers&&(o=!!(4&e.modifiers)),n>=97&&122>=n&&o?"capsEnabled":n>=65&&90>=n&&!o?"capsEnabled":n>=1040&&1071>=n&&!o?"capsEnabled":n>=1072&&1103>=n&&o?"capsEnabled":!1}function showNextForm(e,t,n,o,i){if(""!=n&&$(e).addClass(n),$(".importantForm").size())var s=$(".importantForm "+e);else var s=$(e);var r=s.find(".TFContentInc");s.css({height:r.height(),overflow:"hidden"}),0==r.parent().find(".addedForm").size()&&r.before('<div class="addedForm"></div>'),setTimeout(function(){s.find(".addedForm").html(t);var n=s.find(".addedForm").height()+10,a=s.find(".addedForm").width()+40;"top"==i&&s.find(".addedForm").css("margin-top",-n).animate({marginTop:0},400),"right"==i&&(s.find(".addedForm").css({marginLeft:-a,position:"absolute",width:r.width()}).animate({marginLeft:0},400),r.css({width:r.width()}).animate({marginLeft:a},400)),"left"==i&&(s.find(".addedForm").css({marginLeft:a,position:"absolute",width:r.width()}).animate({marginLeft:0},400),r.css({width:r.width()}).animate({marginLeft:-a},400)),"none"==i&&(s.find(".addedForm").css({marginLeft:a,position:"absolute",width:r.width()}).css({marginLeft:0}),r.css({width:r.width()}).css({marginLeft:-a}),r.remove(),$(".addedForm").addClass("TFContentInc").removeClass("addedForm").css({width:"auto",position:"static"}),s.css({height:"auto",overflow:"visible"})),"none"!=i&&s.animate({height:n},400,function(){r.remove(),$(".addedForm").addClass("TFContentInc").removeClass("addedForm").css({width:"auto",position:"static"}),s.css({height:"auto",overflow:"visible"})}),""!=o?(0==$(".greyCover").hasClass("greyCover")&&$(e).before('<div class="greyCover"></div>'),$(".greyCoverDuplicator").fadeIn(50)):($(".greyCover:not(.greyCoverDuplicator)").remove(),$(".greyCoverDuplicator").fadeOut(200)),inputInit(),$(e).find("input").keyup(),setTimeout(function(){checkCloseStatus()},400)},80)}function str_rand(){var e="",t="23456789",n="abcdefghkmnpqrstuvwxyz",o="ABCDEFGHKMNPQRSTUVWXYZ";for(i=0;i<4;++i)numberPosition=Math.floor(7*Math.random()),wordPosition=Math.floor(22*Math.random()),wordPositionUpper=Math.floor(22*Math.random()),e=e+t.substring(numberPosition,numberPosition+1)+n.substring(wordPosition,wordPosition+1)+o.substring(wordPositionUpper,wordPositionUpper+1);var s="";for(i=0;i<10;++i){var r=Math.floor(Math.random()*e.length);s+=e[r],e=e.replace(e[r],"")}return s}function checkTumlerPosition(){$(".tumblerItemCover").each(function(e,t){if($(this).find(".active").size())var n=$(this).find(".active").css("padding-left"),o=$(this).find(".active").width()+2*parseInt(n),i=$(this).find(".active").offset().left-$(this).offset().left;else var o=-2,i=0;$(this).find(".blueBg").css({left:i-1,width:o+2})})}function slideImage(e){var t=$(".avaImagesSlider .sliderCover .active").index(),n=$(".avaImagesSlider .sliderCover img").size();"left"==e?(0==t&&(t=n),t-=1):(t+=1,t==n&&(t=0)),$(".avaImagesSlider .sliderCover .active").removeClass("active"),$(".avaImagesSlider .sliderCover img").eq(t).addClass("active"),$(".imageForChnging").attr("src",$(".sliderCover img.active").attr("src"))}function fillFirst(e){$(".bodyOnly").attr("src","/themes/wooppay_5/gfx/avaGenerator/"+e[4]+"/body/"+e[0]+".svg"),$(".hair").attr("src","/themes/wooppay_5/gfx/avaGenerator/"+e[4]+"/hair/"+e[1].split(":")[0]+".svg"),$(".face").attr("src","/themes/wooppay_5/gfx/avaGenerator/"+e[4]+"/face/"+e[2].split(":")[0]+".svg"),$(".shirt").attr("src","/themes/wooppay_5/gfx/avaGenerator/"+e[4]+"/shirt/"+e[3].split(":")[0]+".svg"),fillSlider(e)}function fillSlider(e){var t=$(".imageGeneratorTabs .item.active").index(),n=$(".avaImagesSlider .sliderCover");$(".bodyOnly").attr("src","/themes/wooppay_5/gfx/avaGenerator/"+e[4]+"/body/"+e[0]+".svg"),n.html(" ");var o=e[t+1].split(":"),i="body";switch(t){case 0:i="hair";break;case 1:i="face";break;case 2:i="shirt"}for(var s=0;s<o.length;s++){var r=e[t+1].split(":")[s];n.append("<img src='/themes/wooppay_5/gfx/avaGenerator/"+e[4]+"/"+i+"/"+r+".svg'>")}n.find("img:first").addClass("active"),$(".imageForChnging").removeClass("imageForChnging"),$("."+i).addClass("imageForChnging").attr("src",$(".avaImagesSlider .sliderCover img.active").attr("src"))}function saveAvaAjax(){var e=[];$(".imageBlock img.bodyOnly,.imageBlock .hair,.imageBlock .face,.imageBlock .shirt").each(function(t){e[t]=$(this).attr("src")}),$.ajax({url:"/profile/avatar",data:{generateAva:e},type:"post",dataType:"json",success:function(e){$("#headerBlockContent").find(".completeAva").attr("src",e.res).show(0)}})}function saveNewAva(){saveAvaAjax(),$(".userImageBlock .imageBlock img").show(0),$(".completeAva").hide(0),$(".makeOwnAva .lightBlueBtn").click()}function randomAvaGenerator(e){var t=e[1].split(":").sort(sRand)[1],n=e[2].split(":").sort(sRand)[1],o=e[3].split(":").sort(sRand)[1];$(".bodyOnly").attr("src","/themes/wooppay_5/gfx/avaGenerator/"+e[4]+"/body/"+e[0]+".svg"),$(".hair").attr("src","/themes/wooppay_5/gfx/avaGenerator/"+e[4]+"/hair/"+t+".svg"),$(".face").attr("src","/themes/wooppay_5/gfx/avaGenerator/"+e[4]+"/face/"+n+".svg"),$(".shirt").attr("src","/themes/wooppay_5/gfx/avaGenerator/"+e[4]+"/shirt/"+o+".svg"),$(".userImageBlock .imageBlock img").show(0),$(".completeAva").hide(0)}function sRand(){return Math.random()>.5?1:-1}function closeBlockPasChange(e){$(".topFormContent .passTitle").size()||$(".topFormContent .regTitle").size()?$(".topFormContent .regTitle").size()&&$(".accountActionBlock").size()?$(".accountActionBlock").fadeOut(200,function(){$(".accountActionBlock .TFContentInc").html(""),$(".formCloser").fadeOut(0)}):$.ajax({url:"/site/login?mask=1",type:"POST",dataType:"json",beforeSend:function(){return $(".ajaxSended").size()?!1:(preloaderLine(".topFormContent ","Идет загрузка данных...",e),void $(".formCloser").addClass("ajaxSended"))},success:function(e){$(".yellowForm").removeClass("yellowForm"),showNextForm(".topFormContent",e.res,"",!1,"left"),$(".formCloser").removeClass("ajaxSended"),setTimeout(function(){$(".countryInput").focus()},500)},complete:function(){preloaderLineRemove(".topFormContent")}}):($(".countryInput").focus(),$(".accountActionBlock").fadeOut(200,function(){$(".accountActionBlock .TFContentInc").html(""),$(".formCloser").fadeOut(0)}))}function checkCloseStatus(){"block"==$(".formCloser").parents(".accountActionBlock").css("display")?$(".accountActionBlock .formCloser").fadeIn(200):$(".passTitle").size()||$(".regTitle").size()?$(".formCloser").fadeIn(200):$(".formCloser").fadeOut(0)}function passResetBlock(e){e||(e="/site/passwordReset"),$.ajax({url:e,type:"GET",beforeSend:function(){preloaderLine(".topFormContent ","Идет загрузка данных...",".topFormContent .greenBtn")},success:function(e){showNextForm(".topFormContent",e,"",!1,"right")},complete:function(){preloaderLineRemove(".topFormContent")}})}function showPopUp(e,t,n,o){var i;o||(o=!1),$(".popUpContCover").size()>0&&$(".popUpContCover").remove(),i=1==o?'<div class="popUpCloser" onclick="closePopUp()"></div>':"",$("body").addClass("popUpBody").prepend('<div class="popUpContCover"><div class="popUpCont" style="width:'+n+'"><div class="closeBtn" onclick="closePopUp()"></div><div class="titleTop">'+t+"</div>"+e+"</div>"+i+"</div>");var s=$(window).height(),r=parseInt($(".popUpCont").css("height"));s-100>r?$(".popUpCont").animate({top:s/2-r/2-50}):$(".popUpCont").animate({top:20},200)}function showImageGallary(e,t,n,o){for(var i=$(n).size(),s=0,r=$(window).height(),a=$(window).width(),c=0;i>c;c++)$(n).eq(c).attr("rel")==o&&(s=c+1);$(".popUpContCover").size()>0&&$(".popUpContCover").remove(),$("body").prepend('<div class="popUpContCover"><div class="popUpCont imageGallary" style="opacity:0" ><div class="closeBtn" onclick="closePopUp()"></div><div class="titleTop">'+t+'<div class="imageCounter">'+s+" из "+i+'</div></div><img src="'+o+'"  class="popUpGallaeyImage" ></div></div>'),$(".popUpGallaeyImage").load(function(){var t=$(".popUpGallaeyImage"),o=t.height(),c=t.width();o>c?o>r-200&&(o=r-200,t.attr("height",o)):(c>a&&(c=.7*a,t.attr("width",c)),o>r-200&&(o=r-200,t.attr("height",o)));var l=$(".imageGallary");if(l.css({width:t.width()+60}),l.height()<r-200&&l.animate({top:(r-l.height())/2-60},500),$(".popUpCont").css("opacity",1),1==e&&i>1){var d=s;d==i&&(d=0);var u=s-2;-1==u&&(u=i-1);var p=$(n).eq(d).attr("rel"),h=$(n).eq(u).attr("rel");$(".popUpContCover").append('<div class="closerGallary" onclick="closePopUp()"></div><div class="popUpLeftArrow"onclick="showImageGallary(true,\'Прикреплённый файл\',\'.screenImgPic\',\''+h+"')\" ></div><div class=\"popUpRightArrow\" onclick=\"showImageGallary(true,'Прикреплённый файл','.screenImgPic','"+p+"')\"></div>"),glabalSliding=!1}})}function closePopUp(){$(".popUpContCover").fadeOut(200,function(){$(this).remove()}),$("body").removeClass("popUpBody")}function GPImagePosition(){$(".PSGroupPayment .paymentServItem").each(function(e,t){var n=$(this).offset().top-$(this).parents(".PSGroupPayment").offset().top;$(".leftColomnImage .imageItem").eq(e).css({top:n})})}function cancelCreatingFolder(){$(".newFolderCreating").fadeOut(300),$(".popUpContCover").addClass("tempAnim").fadeOut(300,function(){$(".tempAnim").remove(),$(".newGroupCreating").removeClass("newGroupCreating"),$(".createNewCover").removeClass("createNewCover")})}function creatingFolder(){$("body").prepend('<div class="popUpContCover"></div>'),$(".popUpContCover").fadeIn(300),$(".userServicesList ").addClass("createNewCover"),$(".userServicesList input[type=checkbox]:checked:first").parents(".item").addClass("newGroupCreating");var e=[],t=0;$(".userServicesList input[type=checkbox]:checked").each(function(n,o){e[n]=$(this).parents(".item").find("img").attr("src"),t+=parseInt($(this).parents(".item").find(".summInput").val())}),$(".newGroupCreating").append('<div class="newFolderCreating"><div class="image"><div class="imageItem"><img src="'+e[0]+'"></div><div class="imageItem"><img src="'+e[1]+'"></div>    </div>    <div class="discr">       <div class="rowBlock">           <input type="text" placeholder="Название папки " value="Новая папка" class="folderName"  >           <div class="placeHolder">Название</div>       </div>       <div class="paymentFolderInfo">           <div class="title">Сумма к оплате:</div>           <div class="folderSumm">'+t+' тг</div>       </div>    </div>    <div class="creatingBtnsCover">       <div class="greenBtn">Сохранить</div>       <div class="lightBlueBtn" onclick="cancelCreatingFolder()">Отмена</div>    </div></div>'),$(".newGroupCreating .folderName").select(),$(".newGroupCreating .folderName").focus()}function closeSettings(){$(".greyCover").fadeOut(600,function(){$(".greyCover:not(.greyCoverDuplicator)").remove(),$(".greyCoverDuplicator").fadeOut(200)}),$(".settingsPopUp .TFContentInc").removeAttr("style").empty(),$(".settingsPopUp").animate({top:-$(".settingsPopUp").height()-185},300).removeClass('animate-top'),$(".minHeight").removeClass("minHeight")}function showSettingsForm(e){showSettings(document.querySelector(".SSectionItem"),e,!0)}function showSettings(e,t,n){$(".settingsPopUp").animate({top:-21},500).addClass('animate-top'),0==$("body .greyCover").size()&&$("body").append('<div class="greyCover"></div>'),$.ajax({url:t,dataType:"json",beforeSend:function(t){return $(".ajaxSended").size()?!1:(preloaderLine(".settingsPopUp ","Загрузка данных",".settingsPopUp .redBtn"),$("#headerBlockContent").addClass("ajaxSended"),$(".SSectionItem").removeClass("active"),e.classList.add("active"),void 0)},success:function(e){$(".importantForm").removeClass("importantForm"),1==n?setTimeout(function(){showNextForm(".settingsPopUp",e.content,"whiteForm",!0,"top"),preloaderLineRemove(".settingsPopUp"),$("body").addClass("minHeight")},200):(showNextForm(".settingsPopUp",e.content,"whiteForm",!0,"top"),preloaderLineRemove(".settingsPopUp"),$("body").addClass("minHeight"))},complete:function(){setTimeout(function(){$("#headerBlockContent").removeClass("ajaxSended")},1e3)}})}function translit(e){var t="-",n=e.toLowerCase(),o={"а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":t,"ы":"y","ь":t,"э":"e","ю":"yu","я":"ya"," ":t,_:t,"`":t,"~":t,"!":t,"@":t,"#":t,$:t,"%":t,"^":t,"&":t,"*":t,"(":t,")":t,"-":t,"=":t,"+":t,"[":t,"]":t,"\\":t,"|":t,"/":t,".":t,",":t,"{":t,"}":t,"'":t,'"':t,";":t,":":t,"?":t,"<":t,">":t,"№":t},s="",r="";for(i=0;i<n.length;i++)void 0!=o[n[i]]?(r!=o[n[i]]||r!=t)&&(s+=o[n[i]],r=o[n[i]]):(s+=n[i],r=n[i]);s=TrimStr(s)}function findResult(e){e=e.toLowerCase();var t=!1;if(e)for(var n=0;n<searchServicesPay.length;n++)if(-1!=searchServicesPay[n].name.toLowerCase().search(e)||-1!=searchServicesPay[n].descr.toLowerCase().search(e)){t=searchServicesPay[n].id;break}t?($("#servicePay").val(t).attr("checked","checked"),$("#account").attr("name","servicePay")):($("#servicePay").val("").removeAttr("checked"),$("#account").attr("name","account"))}function scrollTopWidth(){var e=($(window).width()-$(".contentPart").width())/2;150>=e?$(".scrollTopBtn").addClass("smallLine"):$(".scrollTopBtn").removeClass("smallLine")}function ImageZoom(e){var t=$(".ticketExample"),n=$(".ticketExample .largeImage img"),o=t.height(),i=230,s=e.pageY-t.offset().top-i/2,r=e.pageX-t.offset().left-i/2,a=e.pageY-t.offset().top-108,c=e.pageX-t.offset().left-108,l=n.height()/o;r>=i&&(r=i),0>=r&&(r=0),s>=o-i+40&&(s=o-i+40),0>=s&&(s=0),0>=c&&(c=0),0>=a&&(a=0),c=-c*l,a=-a*l,-700>=c&&(c=-700),$(".mouseMoveIndicator").css({left:r,top:s}),n.css({left:c,top:a})}function showHideMenu(){$("body").toggleClass("menuOpened")}function setReange(e){var t=new Date;if(7==e){var n=t.getDate()-t.getDay(),o=n+7,i=new Date(t.setDate(n)),s=new Date(t.setDate(o));i=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1)}if(1==e)var i=t,s=t;if(30==e)var i=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(t.getFullYear(),t.getMonth()+1,0);var r=parseInt(i.getMonth())+1,a=parseInt(s.getMonth())+1;10>r&&(r="0"+r),10>a&&(a="0"+a);var c=parseInt(i.getDate()),l=parseInt(s.getDate());10>c&&(c="0"+c),10>l&&(l="0"+l),$(".fromBlock input[type=text]").val(c+"/"+r+"/"+i.getFullYear()),$(".toBlock input[type=text]").val(l+"/"+a+"/"+s.getFullYear())}function checkReports(e){$(".reportsList .item").each(function(t,n){var o=e-$(this).attr("data-createtime");300>o&&0==$(this).find(".newLabel").size()&&$(this).find("a").after('<span class="newLabel">#NEW</span>')})}function partialRefundConfirm(e){var t=e.attr("href");return $.ajax({url:t,type:"GET",data:"check_sum=1",success:function(e){showPopUp(e,"Частичный возврат","360px")}}),!1}function showEditindForm(e){var t=$("#"+e),n=t.height();t.css({minHeight:n});var o=t.find(".itemEditingCover"),i=o.height()+30;i>=n?(o.css({marginTop:-i/2}),t.addClass("openedForm").css("min-height",i)):t.addClass("openedSmallForm"),setTimeout(function(){t.addClass("visible"),o.find("input").keyup()},200)}function hideEditingForm(e){var t=$("#"+e),n=t.find(".itemEditingCover");t.removeClass("visible").css("min-height",50),setTimeout(function(){t.removeClass("openedForm"),t.removeClass("openedSmallForm"),n.remove()},200)}function heightEditingFormRecount(e){var t=$("#"+e),n=t.find(".itemEditingCover"),o=n.height()+30;t.css({minHeight:o})}function showCreationForm(){$(".coverCreateForm").fadeIn(300),$(".createNew").addClass("visibleForm")}function hideCreationForm(){$(".coverCreateForm").fadeOut(300),$(".createNew").removeClass("visibleForm")}function showResultMessage(e,t,n,o){var i="result_message_"+Math.floor(1e4*Math.random()),s=($("#"+e).before('<div class="result_message '+n+'" id="'+i+'">'+t+"</div>"),$("#"+i));s.addClass("slideExpandUp"),("undefined"==typeof o||0==o)&&setTimeout(function(){s.fadeOut(500,function(){s.remove()})},1e4)}function changeCheckbox(e){var t=e.parentNode,n=t.parentNode;e.checked?(t.classList.add("checked"),n.classList.add("active")):(t.classList.remove("checked"),n.classList.remove("active"))}function changeRadioInput(e){for(var t=e.parentNode,n=e.parentNode.parentNode.parentNode,o=n.querySelectorAll("input"),i=0;i<o.length;i++)o[i].parentNode.classList.remove("checked"),o[i].parentNode.parentNode.classList.remove("active"),o[i].checked=!1;t.classList.add("checked"),t.parentNode.classList.add("active"),e.checked=!0}function inputTypeInit(e,t){for(var n=document.getElementsByClassName(e),o=0;o<n.length;o++){var i=n[o].querySelector("input");i.addEventListener("change",t,!1)}}function checkInput(e,t){if(0==!document.querySelector("."+t)){var n=document.querySelectorAll("."+t);for(var o in n)o<=n.length-1&&n[o].querySelector("input[type="+e+"]").checked&&(n[o].classList.add("active"),n[o].querySelector("div").classList.add("checked"))}}function getHiddenElHeight(e){var t=window.getComputedStyle(e),n=t.display,o=t.position,i=t.visibility,s=t.maxHeight.replace("px","").replace("%",""),r=0;return"none"!==n&&"0"!==s?e.offsetHeight:(e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",r=e.offsetHeight,e.style.display=n,e.style.position=o,e.style.visibility=i,r)}function changeFormSteps(e,t,n,o){var i,s=document.getElementById(t),r=document.getElementById(n),a=document.getElementById(e),c=getHiddenElHeight(r),l=getHiddenElHeight(s),d={};r.classList.add("animReady"),s.classList.add("animReady"),c>l?a.style.height=c+"px":a.style.height=l+"px","left"==o&&(d={left:"100%",top:"0",position:"absolute",display:"block"},setTimeout(function(){s.style.left="-100%",r.style.left="0"},10)),"right"==o&&(d={left:"-100%",top:"0",position:"absolute",display:"block"},setTimeout(function(){s.style.left="100%",r.style.left="0"},10)),"top"==o&&(d={top:-c+"px",position:"absolute",display:"block"},setTimeout(function(){c>l?s.style.top=c+"px":s.style.top=l+"px",r.style.top="0"},10));for(i in d)r.style[i]=d[i];a.style.height=c+"px",setTimeout(function(){r.classList.remove("animReady"),s.classList.remove("animReady"),r.style.position="relative",s.style.display="none",a.style.height="auto"},300)}function scrollTo(e,t,n){if(!(0>=n)){var o=t-e.scrollTop,i=o/n*10;setTimeout(function(){e.scrollTop=e.scrollTop+i,e.scrollTop!==t&&scrollTo(e,t,n-10)},10)}}function findTotalOffset(e){var t=ot=0;if(e.offsetParent)do t+=e.offsetLeft,ot+=e.offsetTop;while(e=e.offsetParent);return{left:t,top:ot}}function showReviewForm(){$.ajax({url:"/help/review",type:"GET",dataType:"json",success:function(e){showPopUp(e.content,"Отзывы и предложения","440px",!0),inputTypeInit("radioGroupLine",changeRadioInput),checkInput("radio","radioGroupLine"),$("#reviewFormCover").find("input[type=text]").keyup()}})}function sendReviewForm(){$.ajax({url:"/help/review",type:"POST",dataType:"json",success:function(e){if("loaded"==e.status){var t=$("#reviewFormCover");t.parents("form").replaceWith(e.content),inputTypeInit("radioGroupLine",changeRadioInput),checkInput("radio","radioGroupLine"),t.find("input[type=text]").keyup()}else"success"==e.status&&(changeFormSteps("reviewFormCover","reviewFormPart_1","reviewFormPart_2","left"),document.querySelector("#reviewFormCover .WPSuccessMessage").classList.add("ready"))},beforeSend:function(){preloaderLine(".popUpCont","Идёт отправка","#reviewSendBtn")},complete:function(){preloaderLineRemove(".popUpCont")},data:$("#reviewFormCover").parents("form").serialize()})}var emailList=["mail.ru","gmail.com","bk.ru","inbox.ru","list.ru","yandex.ru","rambler.ru","yandex.kz","yahoo.com","ya.ru","hotmail.com","wooppay.com","icloud.com","me.com","mail.kz","gmail.ru","mail.com","nur.kz","outlook.com","kazpost.kz","kcell.kz","spaces.ru","yandex.com","pochta.ru","alfabank.kz","nationalbank.kz","pisem.net","live.ru","rainmail.biz","mfil.ru","buzachi.kz","front.ru","kz.enrc.com","mail.ua","adonweb.ru","asd.com","eubank.kz","bta.kz","railways.kz","aol.com","lenta.ru","e-mail.ua","alnet.kz","alina.kz","magnum.kz","qip.ru","live.com","kimep.kz","student.su","bikada.kz","itca.kz","bi-group.kz","k2com.kz","topmail.kz","innovainvest.kz","satcor.kz","kyzylorda.ktga.kz","kazbizinvest.kz","agp.com.kz","azs.com.kz","coachfederation.kz","ecar.kz","freenet.de","t-d.kz","nnc.kz","fromru.com","KIB.KZ","ok.kz","fortebank.com","dk.ru","ecc.kz","kpo.kz","copyland.kz","progast.kz","robingood.kz","astel.kz","xoro.kz","BBK.RU","googlemail.com","vk.com","mailblog.biz"];$(document).on("keyup",".emailHelper",function(e){$(this).addClass("inputEmailHelper");var t=e.keyCode||e.which;13!=t?emailHelper(emailList,!1):emailHelper(emailList,!0)}),$(document).on("keydown",".emailHelper",function(e){$(this).addClass("inputEmailHelper");var t=e.keyCode||e.which;if(13!=t)emailHelper(emailList);else if(emailHelper(emailList,!0),""!=$(".hintBlock").html())return!1}),$(document).on("blur",".emailHelper",function(e){$(this).addClass("inputEmailHelper"),emailHelper(emailList,!0)}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,o){var i,s,r,a=t.nodeName.toLowerCase();return"area"===a?(i=t.parentNode,s=i.name,t.href&&s&&"map"===i.nodeName.toLowerCase()?(r=e("img[usemap='#"+s+"']")[0],!!r&&n(r)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||o:o)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function o(e){for(var t,n;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",r)}function r(){e.datepicker._isDisabledDatepicker(c.inline?c.dpDiv.parent()[0]:c.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function a(t,n){e.extend(t,n);for(var o in n)null==n[o]&&(t[o]=n[o]);return t}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),o="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return o&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,o){return!!e.data(t,o[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var o=e.attr(n,"tabindex"),i=isNaN(o);return(i||o>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function o(t,n,o,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,o&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?r["inner"+n].call(this):this.each(function(){e(this).css(s,o(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(s,o(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,o){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),o&&o.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,o,i=e(this[0]);i.length&&i[0]!==document;){
if(n=i.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(o=parseInt(i.css("zIndex"),10),!isNaN(o)&&0!==o))return o;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,o){var i,s=e.ui[t].prototype;for(i in o)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,o[i]])},call:function(e,t,n,o){var i,s=e.plugins[t];if(s&&(o||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;s.length>i;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,n)}},e.extend(e.ui,{datepicker:{version:"1.11.2"}});var c;e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var o,i,s;o=t.nodeName.toLowerCase(),i="div"===o||"span"===o,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),i),s.settings=e.extend({},n||{}),"input"===o?this._connectDatepicker(t,s):i&&this._inlineDatepicker(t,s)},_newInst:function(t,n){var o=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:o,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var o=e(t);n.append=e([]),n.trigger=e([]),o.hasClass(this.markerClassName)||(this._attachments(o,n),o.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var o,i,s,r=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),r&&(n.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[a?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),o=this._get(n,"showOn"),("focus"===o||"both"===o)&&t.focus(this._showDatepicker),("button"===o||"both"===o)&&(i=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:i,title:i}):i)),t[a?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,o,i,s=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(n=0,o=0,i=0;e.length>i;i++)e[i].length>n&&(n=e[i].length,o=i);return o},s.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var o=e(t);o.hasClass(this.markerClassName)||(o.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,o,i,s){var r,c,l,d,u,p=this._dialogInst;return p||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],"datepicker",p)),a(p.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(p,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+d,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=o,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",p),this},_destroyDatepicker:function(t){var n,o=e(t),i=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),o.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&o.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,o,i=e(t),s=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(o=i.children("."+this._inlineClass),o.children().removeClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,o,i=e(t),s=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(o=i.children("."+this._inlineClass),o.children().addClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,o){var i,s,r,c,l=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):l?"all"===n?e.extend({},l.settings):this._get(l,n):null:(i=n||{},"string"==typeof n&&(i={},i[n]=o),void(l&&(this._curInst===l&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(l,"min"),c=this._getMinMaxDate(l,"max"),a(l.settings,i),null!==r&&void 0!==i.dateFormat&&void 0===i.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==c&&void 0!==i.dateFormat&&void 0===i.maxDate&&(l.settings.maxDate=this._formatDate(l,c)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,s),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,o,i,s=e.datepicker._getInst(t.target),r=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),i[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),n=e.datepicker._get(s,"onSelect"),n?(o=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[o,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,o,i=e.datepicker._getInst(t.target);return e.datepicker._get(i,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),o=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">o||!n||n.indexOf(o)>-1):void 0},_doKeyUp:function(t){var n,o=e.datepicker._getInst(t.target);if(o.input.val()!==o.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(o,"dateFormat"),o.input?o.input.val():null,e.datepicker._getFormatConfig(o)),n&&(e.datepicker._setDateFromField(o),e.datepicker._updateAlternate(o),e.datepicker._updateDatepicker(o))}catch(i){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,i,s,r,c,l,d;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(n,"beforeShow"),s=i?i.apply(t,[t,n]):{},s!==!1&&(a(n.settings,s),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),c={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),c=e.datepicker._checkOffset(n,c,r),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"}),n.inline||(l=e.datepicker._get(n,"showAnim"),d=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",o(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?n.dpDiv.show(l,e.datepicker._get(n,"showOptions"),d):n.dpDiv[l||"show"](l?d:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,c=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,o=this._getNumberOfMonths(t),i=o[1],s=17,a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&r.apply(a.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),t.dpDiv[(1!==o[0]||1!==o[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,o){var i=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,c=document.documentElement.clientWidth+(o?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(o?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-r:0,n.left-=o&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=o&&n.top===t.input.offset().top+a?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>c&&c>i?Math.abs(n.left+i-c):0),n.top-=Math.min(n.top,n.top+s>l&&l>s?Math.abs(s+a):0),n},_findPos:function(t){for(var n,o=this._getInst(t),i=this._get(o,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,o,i,s,r=this._curInst;!r||t&&r!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(r,"showAnim"),o=this._get(r,"duration"),i=function(){e.datepicker._tidyDialog(r)},e.effects&&(e.effects.effect[n]||e.effects[n])?r.dpDiv.hide(n,e.datepicker._get(r,"showOptions"),o,i):r.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?o:null,i),n||i(),this._datepickerShowing=!1,s=this._get(r,"onClose"),s&&s.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),o=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==o)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,o){var i=e(t),s=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(s,n+("M"===o?this._get(s,"showCurrentAtPos"):0),o),this._updateDatepicker(s))},_gotoToday:function(t){var n,o=e(t),i=this._getInst(o[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(o)},_selectMonthYear:function(t,n,o){var i=e(t),s=this._getInst(i[0]);s["selected"+("M"===o?"Month":"Year")]=s["draw"+("M"===o?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(i)},_selectDay:function(t,n,o,i){var s,r=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(s=this._getInst(r[0]),s.selectedDay=s.currentDay=e("a",i).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=o,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var o,i=e(t),s=this._getInst(i[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),o=this._get(s,"onSelect"),o?o.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,o,i,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),o=this._getDate(t),i=this.formatDate(n,o,this._getFormatConfig(t)),e(s).each(function(){e(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,o){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var i,s,r,a,c=0,l=(o?o.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(o?o.dayNamesShort:null)||this._defaults.dayNamesShort,p=(o?o.dayNames:null)||this._defaults.dayNames,h=(o?o.monthNamesShort:null)||this._defaults.monthNamesShort,f=(o?o.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,y=-1,v=-1,b=!1,k=function(e){var n=t.length>i+1&&t.charAt(i+1)===e;return n&&i++,n},w=function(e){var t=k(e),o="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i="y"===e?o:1,s=RegExp("^\\d{"+i+","+o+"}"),r=n.substring(c).match(s);if(!r)throw"Missing number at position "+c;return c+=r[0].length,parseInt(r[0],10)},C=function(t,o,i){var s=-1,r=e.map(k(t)?i:o,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(r,function(e,t){var o=t[1];return n.substr(c,o.length).toLowerCase()===o.toLowerCase()?(s=t[0],c+=o.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+c},x=function(){if(n.charAt(c)!==t.charAt(i))throw"Unexpected literal at position "+c;c++};for(i=0;t.length>i;i++)if(b)"'"!==t.charAt(i)||k("'")?x():b=!1;else switch(t.charAt(i)){case"d":y=w("d");break;case"D":C("D",u,p);break;case"o":v=w("o");break;case"m":g=w("m");break;case"M":g=C("M",h,f);break;case"y":m=w("y");break;case"@":a=new Date(w("@")),m=a.getFullYear(),g=a.getMonth()+1,y=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,y=a.getDate();break;case"'":k("'")?x():b=!0;break;default:x()}if(n.length>c&&(r=n.substr(c),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=m?0:-100)),v>-1)for(g=1,y=v;s=this._getDaysInMonth(m,g-1),!(s>=y);)g++,y-=s;if(a=this._daylightSavingAdjust(new Date(m,g-1,y)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==y)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var o,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,r=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,c=function(t){var n=e.length>o+1&&e.charAt(o+1)===t;return n&&o++,n},l=function(e,t,n){var o=""+t;if(c(e))for(;n>o.length;)o="0"+o;return o},d=function(e,t,n,o){return c(e)?o[t]:n[t]},u="",p=!1;if(t)for(o=0;e.length>o;o++)if(p)"'"!==e.charAt(o)||c("'")?u+=e.charAt(o):p=!1;else switch(e.charAt(o)){case"d":u+=l("d",t.getDate(),2);break;case"D":u+=d("D",t.getDay(),i,s);break;case"o":u+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",t.getMonth()+1,2);break;case"M":u+=d("M",t.getMonth(),r,a);break;case"y":u+=c("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":c("'")?u+="'":p=!0;break;default:u+=e.charAt(o)}return u},_possibleChars:function(e){var t,n="",o=!1,i=function(n){var o=e.length>t+1&&e.charAt(t+1)===n;return o&&t++,o};for(t=0;e.length>t;t++)if(o)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):o=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":o=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),o=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),s=i,r=this._getFormatConfig(e);try{s=this.parseDate(n,o,r)||i}catch(a){o=t?"":o}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=o?s.getDate():0,e.currentMonth=o?s.getMonth():0,e.currentYear=o?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,o){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(o){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),r=i.getMonth(),a=i.getDate(),c=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=c.exec(n);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,r))}l=c.exec(n)}return new Date(s,r,a)},r=null==n||""===n?o:"string"==typeof n?s(n):"number"==typeof n?isNaN(n)?o:i(n):new Date(n.getTime());return r=r&&"Invalid Date"==""+r?o:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var o=!t,i=e.selectedMonth,s=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),i===e.selectedMonth&&s===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(o?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),o="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(o,-n,"M")},next:function(){e.datepicker._adjustDate(o,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(o)},selectDay:function(){return e.datepicker._selectDay(o,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(o,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(o,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,o,i,s,r,a,c,l,d,u,p,h,f,m,g,y,v,b,k,w,C,x,$,_,A,D,S,T,I,j,B,M,P,F,E,R,N,O,L=new Date,z=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),q=this._get(e,"isRTL"),Y=this._get(e,"showButtonPanel"),H=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),W=this._getNumberOfMonths(e),K=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),X=1!==W[0]||1!==W[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),V=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-K,ee=e.drawYear;if(0>J&&(J+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-W[0]*W[1]+1,Z.getDate())),t=V&&V>t?V:t;this._daylightSavingAdjust(new Date(ee,J,1))>t;)J--,0>J&&(J=11,ee--);for(e.drawMonth=J,e.drawYear=ee,n=this._get(e,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,J-G,1)),this._getFormatConfig(e)):n,o=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>":H?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,J+G,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+i+"</span></a>":H?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+i+"</span></a>",r=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?Q:z,r=U?this.formatDate(r,a,this._getFormatConfig(e)):r,c=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(q?c:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(q?"":c)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(e,"showWeek"),p=this._get(e,"dayNames"),h=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),y=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),k="",C=0;W[0]>C;C++){for(x="",this.maxRows=4,$=0;W[1]>$;$++){if(_=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay)),A=" ui-corner-all",D="",X){if(D+="<div class='ui-datepicker-group",W[1]>1)switch($){case 0:D+=" ui-datepicker-group-first",A=" ui-corner-"+(q?"right":"left");break;case W[1]-1:D+=" ui-datepicker-group-last",A=" ui-corner-"+(q?"left":"right");break;default:D+=" ui-datepicker-group-middle",A=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===C?q?s:o:"")+(/all|right/.test(A)&&0===C?q?o:s:"")+this._generateMonthYearHeader(e,J,ee,V,Z,C>0||$>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)T=(w+d)%7,S+="<th scope='col'"+((w+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[T]+"'>"+h[T]+"</span></th>";for(D+=S+"</tr></thead><tbody>",I=this._getDaysInMonth(ee,J),ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,I)),j=(this._getFirstDayOfMonth(ee,J)-d+7)%7,B=Math.ceil((j+I)/7),M=X&&this.maxRows>B?this.maxRows:B,this.maxRows=M,P=this._daylightSavingAdjust(new Date(ee,J,1-j)),F=0;M>F;F++){for(D+="<tr>",E=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",w=0;7>w;w++)R=g?g.apply(e.input?e.input[0]:null,[P]):[!0,""],N=P.getMonth()!==J,O=N&&!v||!R[0]||V&&V>P||Z&&P>Z,E+="<td class='"+((w+d+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(P.getTime()===_.getTime()&&J===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===_.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!y?"":" "+R[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(N&&!y||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(O?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(N&&!y?"&#xa0;":O?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===z.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);D+=E+"</tr>"}J++,J>11&&(J=0,ee++),D+="</tbody></table>"+(X?"</div>"+(W[0]>0&&$===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=D}k+=x}return k+=l,e._keyEvent=!1,k},_generateMonthYearHeader:function(e,t,n,o,i,s,r,a){var c,l,d,u,p,h,f,m,g=this._get(e,"changeMonth"),y=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",k="";if(s||!g)k+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(c=o&&o.getFullYear()===n,l=i&&i.getFullYear()===n,k+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;12>d;d++)(!c||d>=o.getMonth())&&(!l||i.getMonth()>=d)&&(k+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+a[d]+"</option>");k+="</select>"}if(v||(b+=k+(!s&&g&&y?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!y)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(u=this._get(e,"yearRange").split(":"),p=(new Date).getFullYear(),h=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?p+parseInt(e,10):parseInt(e,10);return isNaN(t)?p:t},f=h(u[0]),m=Math.max(f,h(u[1]||"")),f=o?Math.max(f,o.getFullYear()):f,m=i?Math.min(m,i.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),v&&(b+=(!s&&g&&y?"":"&#xa0;")+k),b+="</div>"},_adjustInstDate:function(e,t,n){var o=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(o,i))+("D"===n?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(o,i,s)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),i=n&&n>t?n:t;return o&&i>o?o:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,o){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,o+(0>t?t:i[0]*i[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,o,i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),r=null,a=null,c=this._get(e,"yearRange");return c&&(n=c.split(":"),o=(new Date).getFullYear(),r=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(r+=o),n[1].match(/[+\-].*/)&&(a+=o)),(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())&&(!r||t.getFullYear()>=r)&&(!a||a>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");
return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,o){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(o,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.2",e.datepicker}),jQuery(function(e){e.datepicker.regional.ru={closeText:"Закрыть",prevText:"&#x3c;Пред",nextText:"След&#x3e;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",firstDay:1,isRTL:!1,showMonthAfterYear:!1,showOtherMonths:!0,selectOtherMonths:!0,dateFormat:"dd/mm/yy",yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.ru)}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.fn.jScrollPane=function(t){function n(t,n){function o(n){var s,a,l,d,u,f,m=!1,g=!1;if(O=n,void 0===L)u=t.scrollTop(),f=t.scrollLeft(),t.css({overflow:"hidden",padding:0}),z=t.innerWidth()+ye,q=t.innerHeight(),t.width(z),L=e('<div class="jspPane" />').css("padding",ge).append(t.children()),Y=e('<div class="jspContainer" />').css({width:z+"px",height:q+"px"}).append(L).appendTo(t);else{if(t.css("width",""),m=O.stickToBottom&&A(),g=O.stickToRight&&D(),d=t.innerWidth()+ye!=z||t.outerHeight()!=q,d&&(z=t.innerWidth()+ye,q=t.innerHeight(),Y.css({width:z+"px",height:q+"px"})),!d&&ve==H&&L.outerHeight()==U)return void t.width(z);ve=H,L.css("width",""),t.width(z),Y.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}L.css("overflow","auto"),H=n.contentWidth?n.contentWidth:L[0].scrollWidth,U=L[0].scrollHeight,L.css("overflow",""),W=H/z,K=U/q,G=K>1,X=W>1,X||G?(t.addClass("jspScrollable"),s=O.maintainPosition&&(Z||te),s&&(a=$(),l=_()),i(),r(),c(),s&&(C(g?H-z:a,!1),w(m?U-q:l,!1)),j(),S(),R(),O.enableKeyboardNavigation&&M(),O.clickOnTrack&&p(),F(),O.hijackInternalLinks&&E()):(t.removeClass("jspScrollable"),L.css({top:0,left:0,width:Y.width()-ye}),T(),B(),P(),h()),O.autoReinitialise&&!me?me=setInterval(function(){o(O)},O.autoReinitialiseDelay):!O.autoReinitialise&&me&&clearInterval(me),u&&t.scrollTop(0)&&w(u,!1),f&&t.scrollLeft(0)&&C(f,!1),t.trigger("jsp-initialised",[X||G])}function i(){G&&(Y.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),ne=Y.find(">.jspVerticalBar"),oe=ne.find(">.jspTrack"),Q=oe.find(">.jspDrag"),O.showArrows&&(ae=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",d(0,-1)).bind("click.jsp",I),ce=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",d(0,1)).bind("click.jsp",I),O.arrowScrollOnHover&&(ae.bind("mouseover.jsp",d(0,-1,ae)),ce.bind("mouseover.jsp",d(0,1,ce))),l(oe,O.verticalArrowPositions,ae,ce)),se=q,Y.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){se-=e(this).outerHeight()}),Q.hover(function(){Q.addClass("jspHover")},function(){Q.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",I),Q.addClass("jspActive");var n=t.pageY-Q.position().top;return e("html").bind("mousemove.jsp",function(e){m(e.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",f),!1}),s())}function s(){oe.height(se+"px"),Z=0,ie=O.verticalGutter+oe.outerWidth(),L.width(z-ie-ye);try{0===ne.position().left&&L.css("margin-left",ie+"px")}catch(e){}}function r(){X&&(Y.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),le=Y.find(">.jspHorizontalBar"),de=le.find(">.jspTrack"),J=de.find(">.jspDrag"),O.showArrows&&(he=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",d(-1,0)).bind("click.jsp",I),fe=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",d(1,0)).bind("click.jsp",I),O.arrowScrollOnHover&&(he.bind("mouseover.jsp",d(-1,0,he)),fe.bind("mouseover.jsp",d(1,0,fe))),l(de,O.horizontalArrowPositions,he,fe)),J.hover(function(){J.addClass("jspHover")},function(){J.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",I),J.addClass("jspActive");var n=t.pageX-J.position().left;return e("html").bind("mousemove.jsp",function(e){y(e.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",f),!1}),ue=Y.innerWidth(),a())}function a(){Y.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ue-=e(this).outerWidth()}),de.width(ue+"px"),te=0}function c(){if(X&&G){var t=de.outerHeight(),n=oe.outerWidth();se-=t,e(le).find(">.jspCap:visible,>.jspArrow").each(function(){ue+=e(this).outerWidth()}),ue-=n,q-=n,z-=t,de.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),s(),a()}X&&L.width(Y.outerWidth()-ye+"px"),U=L.outerHeight(),K=U/q,X&&(pe=Math.ceil(1/W*ue),pe>O.horizontalDragMaxWidth?pe=O.horizontalDragMaxWidth:pe<O.horizontalDragMinWidth&&(pe=O.horizontalDragMinWidth),J.width(pe+"px"),ee=ue-pe,v(te)),G&&(re=Math.ceil(1/K*se),re>O.verticalDragMaxHeight?re=O.verticalDragMaxHeight:re<O.verticalDragMinHeight&&(re=O.verticalDragMinHeight),Q.height(re+"px"),V=se-re,g(Z))}function l(e,t,n,o){var i,s="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==s?r=t:t==r&&(s=t,i=n,n=o,o=i),e[s](n)[r](o)}function d(e,t,n){return function(){return u(e,t,this,n),this.blur(),!1}}function u(t,n,o,i){o=e(o).addClass("jspActive");var s,r,a=!0,c=function(){0!==t&&be.scrollByX(t*O.arrowButtonSpeed),0!==n&&be.scrollByY(n*O.arrowButtonSpeed),r=setTimeout(c,a?O.initialDelay:O.arrowRepeatFreq),a=!1};c(),s=i?"mouseout.jsp":"mouseup.jsp",i=i||e("html"),i.bind(s,function(){o.removeClass("jspActive"),r&&clearTimeout(r),r=null,i.unbind(s)})}function p(){h(),G&&oe.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var n,o=e(this),i=o.offset(),s=t.pageY-i.top-Z,r=!0,a=function(){var e=o.offset(),i=t.pageY-e.top-re/2,l=q*O.scrollPagePercent,d=V*l/(U-q);if(0>s)Z-d>i?be.scrollByY(-l):m(i);else{if(!(s>0))return void c();i>Z+d?be.scrollByY(l):m(i)}n=setTimeout(a,r?O.initialDelay:O.trackClickRepeatFreq),r=!1},c=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",c)};return a(),e(document).bind("mouseup.jsp",c),!1}}),X&&de.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var n,o=e(this),i=o.offset(),s=t.pageX-i.left-te,r=!0,a=function(){var e=o.offset(),i=t.pageX-e.left-pe/2,l=z*O.scrollPagePercent,d=ee*l/(H-z);if(0>s)te-d>i?be.scrollByX(-l):y(i);else{if(!(s>0))return void c();i>te+d?be.scrollByX(l):y(i)}n=setTimeout(a,r?O.initialDelay:O.trackClickRepeatFreq),r=!1},c=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",c)};return a(),e(document).bind("mouseup.jsp",c),!1}})}function h(){de&&de.unbind("mousedown.jsp"),oe&&oe.unbind("mousedown.jsp")}function f(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),Q&&Q.removeClass("jspActive"),J&&J.removeClass("jspActive")}function m(e,t){G&&(0>e?e=0:e>V&&(e=V),void 0===t&&(t=O.animateScroll),t?be.animate(Q,"top",e,g):(Q.css("top",e),g(e)))}function g(e){void 0===e&&(e=Q.position().top),Y.scrollTop(0),Z=e||0;var n=0===Z,o=Z==V,i=e/V,s=-i*(U-q);(ke!=n||Ce!=o)&&(ke=n,Ce=o,t.trigger("jsp-arrow-change",[ke,Ce,we,xe])),b(n,o),L.css("top",s),t.trigger("jsp-scroll-y",[-s,n,o]).trigger("scroll")}function y(e,t){X&&(0>e?e=0:e>ee&&(e=ee),void 0===t&&(t=O.animateScroll),t?be.animate(J,"left",e,v):(J.css("left",e),v(e)))}function v(e){void 0===e&&(e=J.position().left),Y.scrollTop(0),te=e||0;var n=0===te,o=te==ee,i=e/ee,s=-i*(H-z);(we!=n||xe!=o)&&(we=n,xe=o,t.trigger("jsp-arrow-change",[ke,Ce,we,xe])),k(n,o),L.css("left",s),t.trigger("jsp-scroll-x",[-s,n,o]).trigger("scroll")}function b(e,t){O.showArrows&&(ae[e?"addClass":"removeClass"]("jspDisabled"),ce[t?"addClass":"removeClass"]("jspDisabled"))}function k(e,t){O.showArrows&&(he[e?"addClass":"removeClass"]("jspDisabled"),fe[t?"addClass":"removeClass"]("jspDisabled"))}function w(e,t){var n=e/(U-q);m(n*V,t)}function C(e,t){var n=e/(H-z);y(n*ee,t)}function x(t,n,o){var i,s,r,a,c,l,d,u,p,h=0,f=0;try{i=e(t)}catch(m){return}for(s=i.outerHeight(),r=i.outerWidth(),Y.scrollTop(0),Y.scrollLeft(0);!i.is(".jspPane");)if(h+=i.position().top,f+=i.position().left,i=i.offsetParent(),/^body|html$/i.test(i[0].nodeName))return;a=_(),l=a+q,a>h||n?u=h-O.horizontalGutter:h+s>l&&(u=h-q+s+O.horizontalGutter),isNaN(u)||w(u,o),c=$(),d=c+z,c>f||n?p=f-O.horizontalGutter:f+r>d&&(p=f-z+r+O.horizontalGutter),isNaN(p)||C(p,o)}function $(){return-L.position().left}function _(){return-L.position().top}function A(){var e=U-q;return e>20&&e-_()<10}function D(){var e=H-z;return e>20&&e-$()<10}function S(){Y.unbind(_e).bind(_e,function(e,t,n,o){te||(te=0),Z||(Z=0);var i=te,s=Z,r=e.deltaFactor||O.mouseWheelSpeed;return be.scrollBy(n*r,-o*r,!1),i==te&&s==Z})}function T(){Y.unbind(_e)}function I(){return!1}function j(){L.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){x(e.target,!1)})}function B(){L.find(":input,a").unbind("focus.jsp")}function M(){function n(){var e=te,t=Z;switch(o){case 40:be.scrollByY(O.keyboardSpeed,!1);break;case 38:be.scrollByY(-O.keyboardSpeed,!1);break;case 34:case 32:be.scrollByY(q*O.scrollPagePercent,!1);break;case 33:be.scrollByY(-q*O.scrollPagePercent,!1);break;case 39:be.scrollByX(O.keyboardSpeed,!1);break;case 37:be.scrollByX(-O.keyboardSpeed,!1)}return i=e!=te||t!=Z}var o,i,s=[];X&&s.push(le[0]),G&&s.push(ne[0]),L.bind("focus.jsp",function(){t.focus()}),t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(t){if(t.target===this||s.length&&e(t.target).closest(s).length){var r=te,a=Z;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:o=t.keyCode,n();break;case 35:w(U-q),o=null;break;case 36:w(0),o=null}return i=t.keyCode==o&&r!=te||a!=Z,!i}}).bind("keypress.jsp",function(e){return e.keyCode==o&&n(),!i}),O.hideFocus?(t.css("outline","none"),"hideFocus"in Y[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in Y[0]&&t.attr("hideFocus",!1))}function P(){t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),L.unbind(".jsp")}function F(){if(location.hash&&location.hash.length>1){var t,n,o=escape(location.hash.substr(1));try{t=e("#"+o+', a[name="'+o+'"]')}catch(i){return}t.length&&L.find(o)&&(0===Y.scrollTop()?n=setInterval(function(){Y.scrollTop()>0&&(x(t,!0),e(document).scrollTop(Y.position().top),clearInterval(n))},50):(x(t,!0),e(document).scrollTop(Y.position().top)))}}function E(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(t){var n,o,i,s,r,a,c=this.href.substr(0,this.href.indexOf("#")),l=location.href;if(-1!==location.href.indexOf("#")&&(l=location.href.substr(0,location.href.indexOf("#"))),c===l){n=escape(this.href.substr(this.href.indexOf("#")+1));try{o=e("#"+n+', a[name="'+n+'"]')}catch(d){return}o.length&&(i=o.closest(".jspScrollable"),s=i.data("jsp"),s.scrollToElement(o,!0),i[0].scrollIntoView&&(r=e(window).scrollTop(),a=o.offset().top,(r>a||a>r+e(window).height())&&i[0].scrollIntoView()),t.preventDefault())}}))}function R(){var e,t,n,o,i,s=!1;Y.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(r){var a=r.originalEvent.touches[0];e=$(),t=_(),n=a.pageX,o=a.pageY,i=!1,s=!0}).bind("touchmove.jsp",function(r){if(s){var a=r.originalEvent.touches[0],c=te,l=Z;return be.scrollTo(e+n-a.pageX,t+o-a.pageY),i=i||Math.abs(n-a.pageX)>5||Math.abs(o-a.pageY)>5,c==te&&l==Z}}).bind("touchend.jsp",function(e){s=!1}).bind("click.jsp-touchclick",function(e){return i?(i=!1,!1):void 0})}function N(){var e=_(),n=$();t.removeClass("jspScrollable").unbind(".jsp"),L.unbind(".jsp"),t.replaceWith($e.append(L.children())),$e.scrollTop(e),$e.scrollLeft(n),me&&clearInterval(me)}var O,L,z,q,Y,H,U,W,K,G,X,Q,V,Z,J,ee,te,ne,oe,ie,se,re,ae,ce,le,de,ue,pe,he,fe,me,ge,ye,ve,be=this,ke=!0,we=!0,Ce=!1,xe=!1,$e=t.clone(!1,!1).empty(),_e=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===t.css("box-sizing")?(ge=0,ye=0):(ge=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),ye=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0)),e.extend(be,{reinitialise:function(t){t=e.extend({},O,t),o(t)},scrollToElement:function(e,t,n){x(e,t,n)},scrollTo:function(e,t,n){C(e,n),w(t,n)},scrollToX:function(e,t){C(e,t)},scrollToY:function(e,t){w(e,t)},scrollToPercentX:function(e,t){C(e*(H-z),t)},scrollToPercentY:function(e,t){w(e*(U-q),t)},scrollBy:function(e,t,n){be.scrollByX(e,n),be.scrollByY(t,n)},scrollByX:function(e,t){var n=$()+Math[0>e?"floor":"ceil"](e),o=n/(H-z);y(o*ee,t)},scrollByY:function(e,t){var n=_()+Math[0>e?"floor":"ceil"](e),o=n/(U-q);m(o*V,t)},positionDragX:function(e,t){y(e,t)},positionDragY:function(e,t){m(e,t)},animate:function(e,t,n,o){var i={};i[t]=n,e.animate(i,{duration:O.animateDuration,easing:O.animateEase,queue:!1,step:o})},getContentPositionX:function(){return $()},getContentPositionY:function(){return _()},getContentWidth:function(){return H},getContentHeight:function(){return U},getPercentScrolledX:function(){return $()/(H-z)},getPercentScrolledY:function(){return _()/(U-q)},getIsScrollableH:function(){return X},getIsScrollableV:function(){return G},getContentPane:function(){return L},scrollToBottom:function(e){m(V,e)},hijackInternalLinks:e.noop,destroy:function(){N()}}),o(n)}return t=e.extend({},e.fn.jScrollPane.defaults,t),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){t[this]=t[this]||t.speed}),this.each(function(){var o=e(this),i=o.data("jsp");i?i.reinitialise(t):(e("script",o).filter('[type="text/javascript"],:not([type])').remove(),i=new n(o,t),o.data("jsp",i))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(t,n){this.element=t,this.options=e.extend({},i,n),this.init()}function n(t){if(!e(t.target).parents().hasClass("jq-selectbox")&&"OPTION"!=t.target.nodeName&&e("div.jq-selectbox.opened").length){t=e("div.jq-selectbox.opened");var n=e("div.jq-selectbox__search input",t),i=e("div.jq-selectbox__dropdown",t);t.find("select").data("_"+o).options.onSelectClosed.call(t),n.length&&n.val("").keyup(),i.hide().find("li.sel").addClass("selected"),t.removeClass("focused opened dropup dropdown")}}var o="styler",i={wrapper:"form",idSuffix:"-styler",filePlaceholder:"Файл не выбран",fileBrowse:"Обзор...",fileNumber:"Выбрано файлов: %s",selectPlaceholder:"Выберите...",selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"Совпадений не найдено",selectSearchPlaceholder:"Поиск...",selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0,onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}};t.prototype={init:function(){function t(){var e="",t="",n="",s="";void 0!==o.attr("id")&&""!==o.attr("id")&&(e=' id="'+o.attr("id")+i.idSuffix+'"'),void 0!==o.attr("title")&&""!==o.attr("title")&&(t=' title="'+o.attr("title")+'"'),void 0!==o.attr("class")&&""!==o.attr("class")&&(n=" "+o.attr("class"));var r,a=o.data();for(r in a)""!==a[r]&&"_styler"!==r&&(s+=" data-"+r+'="'+a[r]+'"');this.id=e+s,this.title=t,this.classes=n}var o=e(this.element),i=this.options,s=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i)?!0:!1,r=navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i)?!0:!1;if(o.is(":checkbox")){var a=function(){var n=new t,i=e("<div"+n.id+' class="jq-checkbox'+n.classes+'"'+n.title+'><div class="jq-checkbox__div"></div></div>');o.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(i).prependTo(i),i.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative",overflow:"hidden"}),o.is(":checked")&&i.addClass("checked"),o.is(":disabled")&&i.addClass("disabled"),i.click(function(e){e.preventDefault(),i.is(".disabled")||(o.is(":checked")?(o.prop("checked",!1),i.removeClass("checked")):(o.prop("checked",!0),i.addClass("checked")),o.focus().change())}),o.closest("label").add('label[for="'+o.attr("id")+'"]').on("click.styler",function(t){e(t.target).is("a")||e(t.target).closest(i).length||(i.triggerHandler("click"),t.preventDefault())}),o.on("change.styler",function(){o.is(":checked")?i.addClass("checked"):i.removeClass("checked")}).on("keydown.styler",function(e){32==e.which&&i.click()}).on("focus.styler",function(){i.is(".disabled")||i.addClass("focused")}).on("blur.styler",function(){i.removeClass("focused")})};a(),o.on("refresh",function(){o.closest("label").add('label[for="'+o.attr("id")+'"]').off(".styler"),o.off(".styler").parent().before(o).remove(),a()})}else if(o.is(":radio")){var c=function(){var n=new t,s=e("<div"+n.id+' class="jq-radio'+n.classes+'"'+n.title+'><div class="jq-radio__div"></div></div>');o.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(s).prependTo(s),s.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative"}),o.is(":checked")&&s.addClass("checked"),o.is(":disabled")&&s.addClass("disabled"),s.click(function(e){e.preventDefault(),s.is(".disabled")||(s.closest(i.wrapper).find('input[name="'+o.attr("name")+'"]').prop("checked",!1).parent().removeClass("checked"),o.prop("checked",!0).parent().addClass("checked"),o.focus().change())}),o.closest("label").add('label[for="'+o.attr("id")+'"]').on("click.styler",function(t){e(t.target).is("a")||e(t.target).closest(s).length||(s.triggerHandler("click"),t.preventDefault())}),o.on("change.styler",function(){o.parent().addClass("checked")}).on("focus.styler",function(){s.is(".disabled")||s.addClass("focused")}).on("blur.styler",function(){s.removeClass("focused")})};c(),o.on("refresh",function(){o.closest("label").add('label[for="'+o.attr("id")+'"]').off(".styler"),o.off(".styler").parent().before(o).remove(),c()})}else if(o.is(":file")){o.css({position:"absolute",top:0,right:0,width:"100%",height:"100%",opacity:0,margin:0,padding:0});var l=function(){var n=new t,s=o.data("placeholder");void 0===s&&(s=i.filePlaceholder);var r=o.data("browse");(void 0===r||""===r)&&(r=i.fileBrowse);var a=e("<div"+n.id+' class="jq-file'+n.classes+'"'+n.title+' style="display: inline-block; position: relative; overflow: hidden"></div>'),c=e('<div class="jq-file__name">'+s+"</div>").appendTo(a);e('<div class="jq-file__browse">'+r+"</div>").appendTo(a),o.after(a).appendTo(a),o.is(":disabled")&&a.addClass("disabled"),o.on("change.styler",function(){var e=o.val();if(o.is("[multiple]")){var e="",t=o[0].files.length;t>0&&(e=o.data("number"),void 0===e&&(e=i.fileNumber),e=e.replace("%s",t))}c.text(e.replace(/.+[\\\/]/,"")),""===e?(c.text(s),a.removeClass("changed")):a.addClass("changed")}).on("focus.styler",function(){a.addClass("focused")}).on("blur.styler",function(){a.removeClass("focused")}).on("click.styler",function(){a.removeClass("focused")})};l(),o.on("refresh",function(){o.off(".styler").parent().before(o).remove(),l()})}else if(o.is('input[type="number"]')){var d=function(){var t=e('<div class="jq-number"><div class="jq-number__spin minus"></div><div class="jq-number__spin plus"></div></div>');o.after(t).prependTo(t).wrap('<div class="jq-number__field"></div>'),o.is(":disabled")&&t.addClass("disabled");var n,i,s,r=null,a=null;void 0!==o.attr("min")&&(n=o.attr("min")),void 0!==o.attr("max")&&(i=o.attr("max")),s=void 0!==o.attr("step")&&e.isNumeric(o.attr("step"))?Number(o.attr("step")):Number(1);var c=function(t){var r,a=o.val();e.isNumeric(a)||(a=0,o.val("0")),t.is(".minus")?(r=parseInt(a,10)-s,s>0&&(r=Math.ceil(r/s)*s)):t.is(".plus")&&(r=parseInt(a,10)+s,s>0&&(r=Math.floor(r/s)*s)),e.isNumeric(n)&&e.isNumeric(i)?r>=n&&i>=r&&o.val(r):e.isNumeric(n)&&!e.isNumeric(i)?r>=n&&o.val(r):!e.isNumeric(n)&&e.isNumeric(i)?i>=r&&o.val(r):o.val(r)};t.is(".disabled")||(t.on("mousedown","div.jq-number__spin",function(){var t=e(this);c(t),r=setTimeout(function(){a=setInterval(function(){c(t)},40)},350)}).on("mouseup mouseout","div.jq-number__spin",function(){clearTimeout(r),clearInterval(a)}),o.on("focus.styler",function(){t.addClass("focused")}).on("blur.styler",function(){t.removeClass("focused")}))};d(),o.on("refresh",function(){o.off(".styler").closest(".jq-number").before(o).remove(),d()})}else if(o.is("select")){var u=function(){function a(t){t.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(t){var n=null;"mousewheel"==t.type?n=-1*t.originalEvent.wheelDelta:"DOMMouseScroll"==t.type&&(n=40*t.originalEvent.detail),n&&(t.stopPropagation(),t.preventDefault(),e(this).scrollTop(n+e(this).scrollTop()))})}function c(){for(var e=0;e<u.length;e++){var t=u.eq(e),n="",o="",s=n="",r="",a="",c="",l="",d="";t.prop("selected")&&(o="selected sel"),t.is(":disabled")&&(o="disabled"),t.is(":selected:disabled")&&(o="selected sel disabled"),void 0!==t.attr("id")&&""!==t.attr("id")&&(s=' id="'+t.attr("id")+i.idSuffix+'"'),void 0!==t.attr("title")&&""!==u.attr("title")&&(r=' title="'+t.attr("title")+'"'),void 0!==t.attr("class")&&(c=" "+t.attr("class"),d=' data-jqfs-class="'+t.attr("class")+'"');var h,f=t.data();for(h in f)""!==f[h]&&(a+=" data-"+h+'="'+f[h]+'"');""!==o+c&&(n=' class="'+o+c+'"'),n="<li"+d+a+n+r+s+">"+t.html()+"</li>",t.parent().is("optgroup")&&(void 0!==t.parent().attr("class")&&(l=" "+t.parent().attr("class")),n="<li"+d+a+' class="'+o+c+" option"+l+'"'+r+s+">"+t.html()+"</li>",t.is(":first-child")&&(n='<li class="optgroup'+l+'">'+t.parent().attr("label")+"</li>"+n)),p+=n}}function l(){var r=new t,l="",d=o.data("placeholder"),h=o.data("search"),f=o.data("search-limit"),m=o.data("search-not-found"),g=o.data("search-placeholder"),y=o.data("z-index"),v=o.data("smart-positioning");void 0===d&&(d=i.selectPlaceholder),(void 0===h||""===h)&&(h=i.selectSearch),(void 0===f||""===f)&&(f=i.selectSearchLimit),(void 0===m||""===m)&&(m=i.selectSearchNotFound),void 0===g&&(g=i.selectSearchPlaceholder),(void 0===y||""===y)&&(y=i.singleSelectzIndex),(void 0===v||""===v)&&(v=i.selectSmartPositioning);var b=e("<div"+r.id+' class="jq-selectbox jqselect'+r.classes+'" style="display: inline-block; position: relative; z-index:'+y+'"><div class="jq-selectbox__select"'+r.title+' style="position: relative"><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>');o.css({margin:0,padding:0}).after(b).prependTo(b);var k=e("div.jq-selectbox__select",b),w=e("div.jq-selectbox__select-text",b),r=u.filter(":selected");c(),h&&(l='<div class="jq-selectbox__search"><input type="search" autocomplete="off" placeholder="'+g+'"></div><div class="jq-selectbox__not-found">'+m+"</div>");var C=e('<div class="jq-selectbox__dropdown" style="position: absolute">'+l+'<ul style="position: relative; list-style: none; overflow: auto; overflow-x: hidden">'+p+"</ul></div>");b.append(C);var x=e("ul",C),$=e("li",C),_=e("input",C),A=e("div.jq-selectbox__not-found",C).hide();$.length<f&&_.parent().hide(),""===o.val()?w.text(d).addClass("placeholder"):w.text(r.text());var D=0,S=0;$.each(function(){var t=e(this);t.css({display:"inline-block"}),t.innerWidth()>D&&(D=t.innerWidth(),S=t.width()),t.css({display:""})}),w.is(".placeholder")&&w.width()>D?w.width(w.width()):(l=b.clone().appendTo("body").width("auto"),h=l.outerWidth(),l.remove(),h==b.outerWidth()&&w.width(S)),D>b.width()&&C.width(D),""===u.first().text()&&""!==o.data("placeholder")&&$.first().hide(),o.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});var T=b.outerHeight(),I=_.outerHeight(),j=x.css("max-height"),l=$.filter(".selected");1>l.length&&$.first().addClass("selected sel"),void 0===$.data("li-height")&&$.data("li-height",$.outerHeight());var B=C.css("top");return"auto"==C.css("left")&&C.css({left:0}),"auto"==C.css("top")&&C.css({top:T}),C.hide(),l.length&&(u.first().text()!=r.text()&&b.addClass("changed"),b.data("jqfs-class",l.data("jqfs-class")),b.addClass(l.data("jqfs-class"))),o.is(":disabled")?(b.addClass("disabled"),!1):(k.click(function(){if(e("div.jq-selectbox").filter(".opened").length&&i.onSelectClosed.call(e("div.jq-selectbox").filter(".opened")),o.focus(),!s){var t=e(window),n=$.data("li-height"),r=b.offset().top,c=t.height()-T-(r-t.scrollTop()),l=o.data("visible-options");(void 0===l||""===l)&&(l=i.selectVisibleOptions);var d=5*n,p=n*l;l>0&&6>l&&(d=p),0===l&&(p="auto");var l=function(){C.height("auto").css({bottom:"auto",top:B});var e=function(){x.css("max-height",Math.floor((c-20-I)/n)*n)};e(),x.css("max-height",p),"none"!=j&&x.css("max-height",j),c<C.outerHeight()+20&&e()},h=function(){C.height("auto").css({top:"auto",bottom:B});var e=function(){x.css("max-height",Math.floor((r-t.scrollTop()-20-I)/n)*n)};e(),x.css("max-height",p),"none"!=j&&x.css("max-height",j),r-t.scrollTop()-20<C.outerHeight()+20&&e()};!0===v||1===v?c>d+I+20?(l(),b.removeClass("dropup").addClass("dropdown")):(h(),b.removeClass("dropdown").addClass("dropup")):(!1===v||0===v)&&c>d+I+20&&(l(),b.removeClass("dropup").addClass("dropdown")),b.offset().left+C.outerWidth()>t.width()&&C.css({left:"auto",right:0}),e("div.jqselect").css({zIndex:y-1}).removeClass("opened"),b.css({zIndex:y}),C.is(":hidden")?(e("div.jq-selectbox__dropdown:visible").hide(),C.show(),b.addClass("opened focused"),i.onSelectOpened.call(b)):(C.hide(),b.removeClass("opened dropup dropdown"),e("div.jq-selectbox").filter(".opened").length&&i.onSelectClosed.call(b)),_.length&&(_.val("").keyup(),A.hide(),_.keyup(function(){var t=e(this).val();$.each(function(){e(this).html().match(RegExp(".*?"+t+".*?","i"))?e(this).show():e(this).hide()}),""===u.first().text()&&""!==o.data("placeholder")&&$.first().hide(),1>$.filter(":visible").length?A.show():A.hide()})),$.filter(".selected").length&&(""===o.val()?x.scrollTop(0):(0!==x.innerHeight()/n%2&&(n/=2),x.scrollTop(x.scrollTop()+$.filter(".selected").position().top-x.innerHeight()/2+n))),a(x)}}),$.hover(function(){e(this).siblings().removeClass("selected")}),$.filter(".selected").text(),$.filter(":not(.disabled):not(.optgroup)").click(function(){o.focus();var t=e(this),n=t.text();if(!t.is(".selected")){var s=t.index(),s=s-t.prevAll(".optgroup").length;t.addClass("selected sel").siblings().removeClass("selected sel"),u.prop("selected",!1).eq(s).prop("selected",!0),w.text(n),b.data("jqfs-class")&&b.removeClass(b.data("jqfs-class")),b.data("jqfs-class",t.data("jqfs-class")),b.addClass(t.data("jqfs-class")),o.change()}C.hide(),b.removeClass("opened dropup dropdown"),i.onSelectClosed.call(b)}),C.mouseout(function(){e("li.sel",C).addClass("selected")}),o.on("change.styler",function(){w.text(u.filter(":selected").text()).removeClass("placeholder"),$.removeClass("selected sel").not(".optgroup").eq(o[0].selectedIndex).addClass("selected sel"),u.first().text()!=$.filter(".selected").text()?b.addClass("changed"):b.removeClass("changed")}).on("focus.styler",function(){b.addClass("focused"),e("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur.styler",function(){b.removeClass("focused")}).on("keydown.styler keyup.styler",function(e){var t=$.data("li-height");""===o.val()?w.text(d).addClass("placeholder"):w.text(u.filter(":selected").text()),$.removeClass("selected sel").not(".optgroup").eq(o[0].selectedIndex).addClass("selected sel"),(38==e.which||37==e.which||33==e.which||36==e.which)&&(""===o.val()?x.scrollTop(0):x.scrollTop(x.scrollTop()+$.filter(".selected").position().top)),40!=e.which&&39!=e.which&&34!=e.which&&35!=e.which||x.scrollTop(x.scrollTop()+$.filter(".selected").position().top-x.innerHeight()+t),13==e.which&&(e.preventDefault(),C.hide(),b.removeClass("opened dropup dropdown"),i.onSelectClosed.call(b))}).on("keydown.styler",function(e){32==e.which&&(e.preventDefault(),k.click())}),void(n.registered||(e(document).on("click",n),n.registered=!0)))}function d(){var n=new t,i=e("<div"+n.id+' class="jq-select-multiple jqselect'+n.classes+'"'+n.title+' style="display: inline-block; position: relative"></div>');o.css({margin:0,padding:0}).after(i),c(),i.append("<ul>"+p+"</ul>");var s=e("ul",i).css({position:"relative","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}),r=e("li",i).attr("unselectable","on"),n=o.attr("size"),l=s.outerHeight(),d=r.outerHeight();void 0!==n&&n>0?s.css({height:d*n}):s.css({height:4*d}),l>i.height()&&(s.css("overflowY","scroll"),a(s),r.filter(".selected").length&&s.scrollTop(s.scrollTop()+r.filter(".selected").position().top)),o.prependTo(i).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0}),o.is(":disabled")?(i.addClass("disabled"),u.each(function(){e(this).is(":selected")&&r.eq(e(this).index()).addClass("selected")})):(r.filter(":not(.disabled):not(.optgroup)").click(function(t){o.focus();var n=e(this);if(t.ctrlKey||t.metaKey||n.addClass("selected"),t.shiftKey||n.addClass("first"),t.ctrlKey||t.metaKey||t.shiftKey||n.siblings().removeClass("selected first"),(t.ctrlKey||t.metaKey)&&(n.is(".selected")?n.removeClass("selected first"):n.addClass("selected first"),n.siblings().removeClass("first")),
t.shiftKey){var i=!1,s=!1;n.siblings().removeClass("selected").siblings(".first").addClass("selected"),n.prevAll().each(function(){e(this).is(".first")&&(i=!0)}),n.nextAll().each(function(){e(this).is(".first")&&(s=!0)}),i&&n.prevAll().each(function(){return e(this).is(".selected")?!1:void e(this).not(".disabled, .optgroup").addClass("selected")}),s&&n.nextAll().each(function(){return e(this).is(".selected")?!1:void e(this).not(".disabled, .optgroup").addClass("selected")}),1==r.filter(".selected").length&&n.addClass("first")}u.prop("selected",!1),r.filter(".selected").each(function(){var t=e(this),n=t.index();t.is(".option")&&(n-=t.prevAll(".optgroup").length),u.eq(n).prop("selected",!0)}),o.change()}),u.each(function(t){e(this).data("optionIndex",t)}),o.on("change.styler",function(){r.removeClass("selected");var t=[];u.filter(":selected").each(function(){t.push(e(this).data("optionIndex"))}),r.not(".optgroup").filter(function(n){return-1<e.inArray(n,t)}).addClass("selected")}).on("focus.styler",function(){i.addClass("focused")}).on("blur.styler",function(){i.removeClass("focused")}),l>i.height()&&o.on("keydown.styler",function(e){38!=e.which&&37!=e.which&&33!=e.which||s.scrollTop(s.scrollTop()+r.filter(".selected").position().top-d),40!=e.which&&39!=e.which&&34!=e.which||s.scrollTop(s.scrollTop()+r.filter(".selected:last").position().top-s.innerHeight()+2*d)}))}var u=e("option",o),p="";o.is("[multiple]")?r||s||d():l()};u(),o.on("refresh",function(){o.off(".styler").parent().before(o).remove(),u()})}else o.is(":reset")&&o.on("click",function(){setTimeout(function(){o.closest(i.wrapper).find("input, select").trigger("refresh")},1)})},destroy:function(){var t=e(this.element);t.is(":checkbox")||t.is(":radio")?(t.removeData("_"+o).off(".styler refresh").removeAttr("style").parent().before(t).remove(),t.closest("label").add('label[for="'+t.attr("id")+'"]').off(".styler")):t.is('input[type="number"]')?t.removeData("_"+o).off(".styler refresh").closest(".jq-number").before(t).remove():(t.is(":file")||t.is("select"))&&t.removeData("_"+o).off(".styler refresh").removeAttr("style").parent().before(t).remove()}},e.fn[o]=function(n){var i=arguments;if(void 0===n||"object"==typeof n)return this.each(function(){e.data(this,"_"+o)||e.data(this,"_"+o,new t(this,n))}).promise().done(function(){var t=e(this[0]).data("_"+o);t&&t.options.onFormStyled.call()}),this;if("string"==typeof n&&"_"!==n[0]&&"init"!==n){var s;return this.each(function(){var r=e.data(this,"_"+o);r instanceof t&&"function"==typeof r[n]&&(s=r[n].apply(r,Array.prototype.slice.call(i,1)))}),void 0!==s?s:this}},n.registered=!1}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,a=c.call(arguments,1),l=0,u=0,p=0,h=0,f=0,m=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(p=-1*r.detail),"wheelDelta"in r&&(p=r.wheelDelta),"wheelDeltaY"in r&&(p=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*p,p=0),l=0===p?u:p,"deltaY"in r&&(p=-1*r.deltaY,l=p),"deltaX"in r&&(u=r.deltaX,0===p&&(l=-1*u)),0!==p||0!==u){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,p*=g,u*=g}else if(2===r.deltaMode){var y=e.data(this,"mousewheel-page-height");l*=y,p*=y,u*=y}if(h=Math.max(Math.abs(p),Math.abs(u)),(!s||s>h)&&(s=h,o(r,h)&&(s/=40)),o(r,h)&&(l/=40,u/=40,p/=40),l=Math[l>=1?"floor":"ceil"](l/s),u=Math[u>=1?"floor":"ceil"](u/s),p=Math[p>=1?"floor":"ceil"](p/s),d.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();f=t.clientX-v.left,m=t.clientY-v.top}return t.deltaX=u,t.deltaY=p,t.deltaFactor=s,t.offsetX=f,t.offsetY=m,t.deltaMode=0,a.unshift(t,l,u,p),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function n(){s=null}function o(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(e.event.fixHooks)for(var l=r.length;l;)e.event.fixHooks[r[--l]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),o=n["offsetParent"in e.fn?"offsetParent":"parent"]();return o.length||(o=e("body")),parseInt(o.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){function t(){this===i.elem&&(i.pos=[-260,-260],i.elem=!1,s=3)}var n,o,i={pos:[-260,-260]},s=3,r=document,a=r.documentElement,c=r.body;e.event.special.mwheelIntent={setup:function(){var n=e(this).bind("mousewheel",e.event.special.mwheelIntent.handler);return this!==r&&this!==a&&this!==c&&n.bind("mouseleave",t),n=null,!0},teardown:function(){return e(this).unbind("mousewheel",e.event.special.mwheelIntent.handler).unbind("mouseleave",t),!0},handler:function(t,r){var a=[t.clientX,t.clientY];return this===i.elem||Math.abs(i.pos[0]-a[0])>s||Math.abs(i.pos[1]-a[1])>s?(i.elem=this,i.pos=a,s=250,clearTimeout(o),o=setTimeout(function(){s=10},200),clearTimeout(n),n=setTimeout(function(){s=3},1500),t=e.extend({},t,{type:"mwheelIntent"}),(e.event.dispatch||e.event.handle).apply(this,arguments)):void 0}},e.fn.extend({mwheelIntent:function(e){return e?this.bind("mwheelIntent",e):this.trigger("mwheelIntent")},unmwheelIntent:function(e){return this.unbind("mwheelIntent",e)}}),e(function(){c=r.body,e(r).bind("mwheelIntent.mwheelIntentDefault",e.noop)})}(jQuery),!function(e){"use strict";function t(e){return e.replace(/,/g,".").replace(/[^0-9\.]/g,"")}function n(e){return parseFloat(t(e))>=10}var o,i={bridge:null,version:"0.0.0",disabled:null,outdated:null,ready:null},s={},r=0,a={},c=0,l={},d=null,u=null,p=function(){var e,t,n,o,i="ZeroClipboard.swf";if(document.currentScript&&(o=document.currentScript.src));else{var s=document.getElementsByTagName("script");if("readyState"in s[0])for(e=s.length;e--&&("interactive"!==s[e].readyState||!(o=s[e].src)););else if("loading"===document.readyState)o=s[s.length-1].src;else{for(e=s.length;e--;){if(n=s[e].src,!n){t=null;break}if(n=n.split("#")[0].split("?")[0],n=n.slice(0,n.lastIndexOf("/")+1),null==t)t=n;else if(t!==n){t=null;break}}null!==t&&(o=t)}}return o&&(o=o.split("#")[0].split("?")[0],i=o.slice(0,o.lastIndexOf("/")+1)+i),i}(),h=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}(),f=function(t,n){var o,i,s;return e.getComputedStyle?o=e.getComputedStyle(t,null).getPropertyValue(n):(i=h(n),o=t.currentStyle?t.currentStyle[i]:t.style[i]),"cursor"!==n||o&&"auto"!==o||(s=t.tagName.toLowerCase(),"a"!==s)?o:"pointer"},m=function(t){t||(t=e.event);var n;this!==e?n=this:t.target?n=t.target:t.srcElement&&(n=t.srcElement),E.activate(n)},g=function(e,t,n){e&&1===e.nodeType&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n))},y=function(e,t,n){e&&1===e.nodeType&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n))},v=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var o=" "+e.className+" ",i=e.className,s=0,r=n.length;r>s;s++)o.indexOf(" "+n[s]+" ")<0&&(i+=" "+n[s]);e.className=i.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},b=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if(t&&"string"==typeof t||void 0===t){var n=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var o=(" "+e.className+" ").replace(/[\n\t]/g," "),i=0,s=n.length;s>i;i++)o=o.replace(" "+n[i]+" "," ");e.className=o.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},k=function(){var e,t,n,o=1;return"function"==typeof document.body.getBoundingClientRect&&(e=document.body.getBoundingClientRect(),t=e.right-e.left,n=document.body.offsetWidth,o=Math.round(t/n*100)/100),o},w=function(t,n){var o={left:0,top:0,width:0,height:0,zIndex:D(n)-1};if(t.getBoundingClientRect){var i,s,r,a=t.getBoundingClientRect();"pageXOffset"in e&&"pageYOffset"in e?(i=e.pageXOffset,s=e.pageYOffset):(r=k(),i=Math.round(document.documentElement.scrollLeft/r),s=Math.round(document.documentElement.scrollTop/r));var c=document.documentElement.clientLeft||0,l=document.documentElement.clientTop||0;o.left=a.left+i-c,o.top=a.top+s-l,o.width="width"in a?a.width:a.right-a.left,o.height="height"in a?a.height:a.bottom-a.top}return o},C=function(e,t){var n=null==t||t&&t.cacheBust===!0&&t.useNoCache===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():""},x=function(t){var n,o,i,s=[],r=[],a=[];if(t.trustedOrigins&&("string"==typeof t.trustedOrigins?r.push(t.trustedOrigins):"object"==typeof t.trustedOrigins&&"length"in t.trustedOrigins&&(r=r.concat(t.trustedOrigins))),t.trustedDomains&&("string"==typeof t.trustedDomains?r.push(t.trustedDomains):"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(r=r.concat(t.trustedDomains))),r.length)for(n=0,o=r.length;o>n;n++)if(r.hasOwnProperty(n)&&r[n]&&"string"==typeof r[n]){if(i=I(r[n]),!i)continue;if("*"===i){a=[i];break}a.push.apply(a,[i,"//"+i,e.location.protocol+"//"+i])}return a.length&&s.push("trustedOrigins="+encodeURIComponent(a.join(","))),"string"==typeof t.jsModuleId&&t.jsModuleId&&s.push("jsModuleId="+encodeURIComponent(t.jsModuleId)),s.join("&")},$=function(e,t,n){if("function"==typeof t.indexOf)return t.indexOf(e,n);var o,i=t.length;for("undefined"==typeof n?n=0:0>n&&(n=i+n),o=n;i>o;o++)if(t.hasOwnProperty(o)&&t[o]===e)return o;return-1},_=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},A=function(t,n,o,i){i?e.setTimeout(function(){t.apply(n,o)},0):t.apply(n,o)},D=function(e){var t,n;return e&&("number"==typeof e&&e>0?t=e:"string"==typeof e&&(n=parseInt(e,10))&&!isNaN(n)&&n>0&&(t=n)),t||("number"==typeof O.zIndex&&O.zIndex>0?t=O.zIndex:"string"==typeof O.zIndex&&(n=parseInt(O.zIndex,10))&&!isNaN(n)&&n>0&&(t=n)),t||0},S=function(e,t){if(e&&t!==!1&&"undefined"!=typeof console&&console&&(console.warn||console.log)){var n="`"+e+"` is deprecated. See docs for more info:\n    https://github.com/zeroclipboard/zeroclipboard/blob/master/docs/instructions.md#deprecations";console.warn?console.warn(n):console.log(n)}},T=function(){var e,t,n,o,i,s,r=arguments[0]||{};for(e=1,t=arguments.length;t>e;e++)if(null!=(n=arguments[e]))for(o in n)if(n.hasOwnProperty(o)){if(i=r[o],s=n[o],r===s)continue;void 0!==s&&(r[o]=s)}return r},I=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},j=function(){var e=function(e,t){var n,o,i;if(null!=e&&"*"!==t[0]&&("string"==typeof e&&(e=[e]),"object"==typeof e&&"length"in e))for(n=0,o=e.length;o>n;n++)if(e.hasOwnProperty(n)&&(i=I(e[n]))){if("*"===i){t.length=0,t.push("*");break}-1===$(i,t)&&t.push(i)}},t={always:"always",samedomain:"sameDomain",never:"never"};return function(n,o){var i,s=o.allowScriptAccess;if("string"==typeof s&&(i=s.toLowerCase())&&/^always|samedomain|never$/.test(i))return t[i];var r=I(o.moviePath);null===r&&(r=n);var a=[];e(o.trustedOrigins,a),e(o.trustedDomains,a);var c=a.length;if(c>0){if(1===c&&"*"===a[0])return"always";if(-1!==$(n,a))return 1===c&&n===r?"sameDomain":"always"}return"never"}}(),B=function(e){if(null==e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},M=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},P=function(){try{return document.activeElement}catch(e){}return null},F=function(){var e=!1;if("boolean"==typeof i.disabled)e=i.disabled===!1;else{if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){}!e&&navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e},E=function(e,t){return this instanceof E?(this.id=""+r++,a[this.id]={instance:this,elements:[],handlers:{}},e&&this.clip(e),"undefined"!=typeof t&&(S("new ZeroClipboard(elements, options)",O.debug),E.config(t)),this.options=E.config(),"boolean"!=typeof i.disabled&&(i.disabled=!F()),void(i.disabled===!1&&i.outdated!==!0&&null===i.bridge&&(i.outdated=!1,i.ready=!1,L()))):new E(e,t)};E.prototype.setText=function(e){return e&&""!==e&&(s["text/plain"]=e,i.ready===!0&&i.bridge&&"function"==typeof i.bridge.setText?i.bridge.setText(e):i.ready=!1),this},E.prototype.setSize=function(e,t){return i.ready===!0&&i.bridge&&"function"==typeof i.bridge.setSize?i.bridge.setSize(e,t):i.ready=!1,this};var R=function(e){i.ready===!0&&i.bridge&&"function"==typeof i.bridge.setHandCursor?i.bridge.setHandCursor(e):i.ready=!1};E.prototype.destroy=function(){this.unclip(),this.off(),delete a[this.id]};var N=function(){var e,t,n,o=[],i=B(a);for(e=0,t=i.length;t>e;e++)n=a[i[e]].instance,n&&n instanceof E&&o.push(n);return o};E.version="1.3.5";var O={swfPath:p,trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0};E.config=function(e){if("object"==typeof e&&null!==e&&T(O,e),"string"!=typeof e||!e){var t={};for(var n in O)O.hasOwnProperty(n)&&(t[n]="object"==typeof O[n]&&null!==O[n]?"length"in O[n]?O[n].slice(0):T({},O[n]):O[n]);return t}return O.hasOwnProperty(e)?O[e]:void 0},E.destroy=function(){E.deactivate();for(var e in a)if(a.hasOwnProperty(e)&&a[e]){var t=a[e].instance;t&&"function"==typeof t.destroy&&t.destroy()}var n=z(i.bridge);n&&n.parentNode&&(n.parentNode.removeChild(n),i.ready=null,i.bridge=null)},E.activate=function(e){o&&(b(o,O.hoverClass),b(o,O.activeClass)),o=e,v(e,O.hoverClass),q();var t=O.title||e.getAttribute("title");if(t){var n=z(i.bridge);n&&n.setAttribute("title",t)}var s=O.forceHandCursor===!0||"pointer"===f(e,"cursor");R(s)},E.deactivate=function(){var e=z(i.bridge);e&&(e.style.left="0px",e.style.top="-9999px",e.removeAttribute("title")),o&&(b(o,O.hoverClass),b(o,O.activeClass),o=null)};var L=function(){var t,n,o=document.getElementById("global-zeroclipboard-html-bridge");if(!o){var s=E.config();s.jsModuleId="string"==typeof d&&d||"string"==typeof u&&u||null;var r=j(e.location.host,O),a=x(s),c=O.moviePath+C(O.moviePath,O),l='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+c+'"/>         <param name="allowScriptAccess" value="'+r+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+a+'"/>         <embed src="'+c+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="'+r+'"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+a+'"           scale="exactfit">         </embed>       </object>';o=document.createElement("div"),o.id="global-zeroclipboard-html-bridge",o.setAttribute("class","global-zeroclipboard-container"),o.style.position="absolute",o.style.left="0px",o.style.top="-9999px",o.style.width="15px",o.style.height="15px",o.style.zIndex=""+D(O.zIndex),document.body.appendChild(o),o.innerHTML=l}t=document["global-zeroclipboard-flash-bridge"],t&&(n=t.length)&&(t=t[n-1]),i.bridge=t||o.children[0].lastElementChild},z=function(e){for(var t=/^OBJECT|EMBED$/,n=e&&e.parentNode;n&&t.test(n.nodeName)&&n.parentNode;)n=n.parentNode;return n||null},q=function(){if(o){var e=w(o,O.zIndex),t=z(i.bridge);t&&(t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.zIndex=e.zIndex+1),i.ready===!0&&i.bridge&&"function"==typeof i.bridge.setSize?i.bridge.setSize(e.width,e.height):i.ready=!1}return this};E.prototype.on=function(e,t){var n,o,s,r={},c=a[this.id]&&a[this.id].handlers;if("string"==typeof e&&e)s=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.on(n,e[n]);if(s&&s.length){for(n=0,o=s.length;o>n;n++)e=s[n].replace(/^on/,""),r[e]=!0,c[e]||(c[e]=[]),c[e].push(t);r.noflash&&i.disabled&&U.call(this,"noflash",{}),r.wrongflash&&i.outdated&&U.call(this,"wrongflash",{flashVersion:i.version}),r.load&&i.ready&&U.call(this,"load",{flashVersion:i.version})}return this},E.prototype.off=function(e,t){var n,o,i,s,r,c=a[this.id]&&a[this.id].handlers;if(0===arguments.length)s=B(c);else if("string"==typeof e&&e)s=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(s&&s.length)for(n=0,o=s.length;o>n;n++)if(e=s[n].toLowerCase().replace(/^on/,""),r=c[e],r&&r.length)if(t)for(i=$(t,r);-1!==i;)r.splice(i,1),i=$(t,r,i);else c[e].length=0;return this},E.prototype.handlers=function(e){var t,n=null,o=a[this.id]&&a[this.id].handlers;if(o){if("string"==typeof e&&e)return o[e]?o[e].slice(0):null;n={};for(t in o)o.hasOwnProperty(t)&&o[t]&&(n[t]=o[t].slice(0))}return n};var Y=function(t,n,o,i){var s=a[this.id]&&a[this.id].handlers[t];if(s&&s.length){var r,c,l,d=n||this;for(r=0,c=s.length;c>r;r++)l=s[r],n=d,"string"==typeof l&&"function"==typeof e[l]&&(l=e[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(n=l,l=l.handleEvent),"function"==typeof l&&A(l,n,o,i)}return this};E.prototype.clip=function(e){e=_(e);for(var t=0;t<e.length;t++)if(e.hasOwnProperty(t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===$(this.id,l[e[t].zcClippingId])&&l[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+c++,l[e[t].zcClippingId]=[this.id],O.autoActivate===!0&&g(e[t],"mouseover",m));var n=a[this.id].elements;-1===$(e[t],n)&&n.push(e[t])}return this},E.prototype.unclip=function(e){var t=a[this.id];if(t){var n,o=t.elements;e="undefined"==typeof e?o.slice(0):_(e);for(var i=e.length;i--;)if(e.hasOwnProperty(i)&&e[i]&&1===e[i].nodeType){for(n=0;-1!==(n=$(e[i],o,n));)o.splice(n,1);var s=l[e[i].zcClippingId];if(s){for(n=0;-1!==(n=$(this.id,s,n));)s.splice(n,1);0===s.length&&(O.autoActivate===!0&&y(e[i],"mouseover",m),delete e[i].zcClippingId)}}}return this},E.prototype.elements=function(){var e=a[this.id];return e&&e.elements?e.elements.slice(0):[]};var H=function(e){var t,n,o,i,s,r=[];if(e&&1===e.nodeType&&(t=e.zcClippingId)&&l.hasOwnProperty(t)&&(n=l[t],n&&n.length))for(o=0,i=n.length;i>o;o++)s=a[n[o]].instance,s&&s instanceof E&&r.push(s);return r};O.hoverClass="zeroclipboard-is-hover",O.activeClass="zeroclipboard-is-active",O.trustedOrigins=null,O.allowScriptAccess=null,O.useNoCache=!0,O.moviePath="ZeroClipboard.swf",E.detectFlashSupport=function(){return S("ZeroClipboard.detectFlashSupport",O.debug),F()},E.dispatch=function(e,t){if("string"==typeof e&&e){var n=e.toLowerCase().replace(/^on/,"");if(n)for(var i=o&&O.autoActivate===!0?H(o):N(),s=0,r=i.length;r>s;s++)U.call(i[s],n,t)}},E.prototype.setHandCursor=function(e){return S("ZeroClipboard.prototype.setHandCursor",O.debug),e="boolean"==typeof e?e:!!e,R(e),O.forceHandCursor=e,this},E.prototype.reposition=function(){return S("ZeroClipboard.prototype.reposition",O.debug),q()},E.prototype.receiveEvent=function(e,t){if(S("ZeroClipboard.prototype.receiveEvent",O.debug),"string"==typeof e&&e){var n=e.toLowerCase().replace(/^on/,"");n&&U.call(this,n,t)}},E.prototype.setCurrent=function(e){return S("ZeroClipboard.prototype.setCurrent",O.debug),E.activate(e),this},E.prototype.resetBridge=function(){return S("ZeroClipboard.prototype.resetBridge",O.debug),E.deactivate(),this},E.prototype.setTitle=function(e){if(S("ZeroClipboard.prototype.setTitle",O.debug),e=e||O.title||o&&o.getAttribute("title")){var t=z(i.bridge);t&&t.setAttribute("title",e)}return this},E.setDefaults=function(e){S("ZeroClipboard.setDefaults",O.debug),E.config(e)},E.prototype.addEventListener=function(e,t){return S("ZeroClipboard.prototype.addEventListener",O.debug),this.on(e,t)},E.prototype.removeEventListener=function(e,t){return S("ZeroClipboard.prototype.removeEventListener",O.debug),this.off(e,t)},E.prototype.ready=function(){return S("ZeroClipboard.prototype.ready",O.debug),i.ready===!0};var U=function(e,r){e=e.toLowerCase().replace(/^on/,"");var a=r&&r.flashVersion&&t(r.flashVersion)||null,c=o,l=!0;switch(e){case"load":if(a){if(!n(a))return void U.call(this,"onWrongFlash",{flashVersion:a});i.outdated=!1,i.ready=!0,i.version=a}break;case"wrongflash":a&&!n(a)&&(i.outdated=!0,i.ready=!1,i.version=a);break;case"mouseover":v(c,O.hoverClass);break;case"mouseout":O.autoActivate===!0&&E.deactivate();break;case"mousedown":v(c,O.activeClass);break;case"mouseup":b(c,O.activeClass);break;case"datarequested":if(c){var d=c.getAttribute("data-clipboard-target"),u=d?document.getElementById(d):null;if(u){var p=u.value||u.textContent||u.innerText;p&&this.setText(p)}else{var h=c.getAttribute("data-clipboard-text");h&&this.setText(h)}}l=!1;break;case"complete":M(s),c&&c!==P()&&c.focus&&c.focus()}var f=c,m=[this,r];return Y.call(this,e,f,m,l)};"function"==typeof define&&define.amd?define(["require","exports","module"],function(e,t,n){return d=n&&n.id||null,E}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports&&"function"==typeof e.require?(u=module.id||null,module.exports=E):e.ZeroClipboard=E}(function(){return this}()),$.yii.fix={ajaxSubmit:{beforeSend:function(e){return function(t,n){e=$(e),$._data(e[0],"events").submit[0].handler();var o=e.data("hasError");return e.removeData("hasError"),o===!1}},afterValidate:function(e,t,n){return $(e).data("hasError",n),!0}}},"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t});var NotyObject={init:function(e){return this.options=$.extend({},$.noty.defaults,e),this.options.layout=this.options.custom?$.noty.layouts.inline:$.noty.layouts[this.options.layout],$.noty.themes[this.options.theme]?this.options.theme=$.noty.themes[this.options.theme]:this.options.themeClassName=this.options.theme,this.options=$.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this._build(),this},_build:function(){var e=$('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if(e.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?$(this.options.layout.parent.object).css(this.options.layout.parent.css).append(e):e,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var t=$("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(t):this.$bar.append(t);var n=this;$.each(this.options.buttons,function(e,t){var o=$("<button/>").addClass(t.addClass?t.addClass:"gray").html(t.text).attr("id",t.id?t.id:"button-"+e).attr("title",t.title).appendTo(n.$bar.find(".noty_buttons")).on("click",function(e){$.isFunction(t.onClick)&&t.onClick.call(o,n,e)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),$.noty.store[this.options.id]=this},show:function(){var e=this;return e.options.custom?e.options.custom.find(e.options.layout.container.selector).append(e.$bar):$(e.options.layout.container.selector).append(e.$bar),e.options.theme&&e.options.theme.style&&e.options.theme.style.apply(e),"function"===$.type(e.options.layout.css)?this.options.layout.css.apply(e.$bar):e.$bar.css(this.options.layout.css||{}),e.$bar.addClass(e.options.layout.addClass),e.options.layout.container.style.apply($(e.options.layout.container.selector),[e.options.within]),e.showing=!0,e.options.theme&&e.options.theme.style&&e.options.theme.callback.onShow.apply(this),$.inArray("click",e.options.closeWith)>-1&&e.$bar.css("cursor","pointer").one("click",function(t){e.stopPropagation(t),e.options.callback.onCloseClick&&e.options.callback.onCloseClick.apply(e),e.close()}),$.inArray("hover",e.options.closeWith)>-1&&e.$bar.one("mouseenter",function(){e.close()}),$.inArray("button",e.options.closeWith)>-1&&e.$closeButton.one("click",function(t){e.stopPropagation(t),e.close()}),-1==$.inArray("button",e.options.closeWith)&&e.$closeButton.remove(),e.options.callback.onShow&&e.options.callback.onShow.apply(e),"string"==typeof e.options.animation.open?(e.$bar.css("height",e.$bar.innerHeight()),e.$bar.on("click",function(t){e.wasClicked=!0}),e.$bar.show().addClass(e.options.animation.open).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0,e.hasOwnProperty("wasClicked")&&(e.$bar.off("click",function(t){e.wasClicked=!0}),e.close())})):e.$bar.animate(e.options.animation.open,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0}),e.options.timeout&&e.$bar.delay(e.options.timeout).promise().done(function(){e.close()}),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var e=this;if(this.showing)return void e.$bar.queue(function(){e.close.apply(e)});if(!this.shown&&!this.showing){var t=[];return $.each($.noty.queue,function(n,o){o.options.id!=e.options.id&&t.push(o)}),void($.noty.queue=t)}e.$bar.addClass("i-am-closing-now"),e.options.callback.onClose&&e.options.callback.onClose.apply(e),"string"==typeof e.options.animation.close?e.$bar.addClass(e.options.animation.close).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.options.callback.afterClose&&e.options.callback.afterClose.apply(e),e.closeCleanUp()}):e.$bar.clearQueue().stop().animate(e.options.animation.close,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterClose&&e.options.callback.afterClose.apply(e)}).promise().done(function(){e.closeCleanUp()})}},closeCleanUp:function(){var e=this;e.options.modal&&($.notyRenderer.setModalCount(-1),0==$.notyRenderer.getModalCount()&&$(".noty_modal").fadeOut(e.options.animation.fadeSpeed,function(){$(this).remove()})),$.notyRenderer.setLayoutCountFor(e,-1),0==$.notyRenderer.getLayoutCountFor(e)&&$(e.options.layout.container.selector).remove(),"undefined"!=typeof e.$bar&&null!==e.$bar&&("string"==typeof e.options.animation.close?(e.$bar.css("transition","all 100ms ease").css("border",0).css("margin",0).height(0),e.$bar.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.$bar.remove(),e.$bar=null,e.closed=!0,e.options.theme.callback&&e.options.theme.callback.onClose&&e.options.theme.callback.onClose.apply(e)})):(e.$bar.remove(),e.$bar=null,e.closed=!0)),delete $.noty.store[e.options.id],e.options.theme.callback&&e.options.theme.callback.onClose&&e.options.theme.callback.onClose.apply(e),e.options.dismissQueue||($.noty.ontap=!0,$.notyRenderer.render()),e.options.maxVisible>0&&e.options.dismissQueue&&$.notyRenderer.render()},setText:function(e){return this.closed||(this.options.text=e,this.$bar.find(".noty_text").html(e)),this},setType:function(e){return this.closed||(this.options.type=e,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(e){if(!this.closed){var t=this;this.options.timeout=e,t.$bar.delay(t.options.timeout).promise().done(function(){t.close()})}return this},stopPropagation:function(e){e=e||window.event,"undefined"!=typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},closed:!1,showing:!1,shown:!1};$.notyRenderer={},$.notyRenderer.init=function(e){var t=Object.create(NotyObject).init(e);return t.options.killer&&$.noty.closeAll(),t.options.force?$.noty.queue.unshift(t):$.noty.queue.push(t),$.notyRenderer.render(),"object"==$.noty.returns?t:t.options.id},$.notyRenderer.render=function(){var e=$.noty.queue[0];"object"===$.type(e)?e.options.dismissQueue?e.options.maxVisible>0?$(e.options.layout.container.selector+" > li").length<e.options.maxVisible&&$.notyRenderer.show($.noty.queue.shift()):$.notyRenderer.show($.noty.queue.shift()):$.noty.ontap&&($.notyRenderer.show($.noty.queue.shift()),$.noty.ontap=!1):$.noty.ontap=!0},$.notyRenderer.show=function(e){e.options.modal&&($.notyRenderer.createModalFor(e),$.notyRenderer.setModalCount(1)),e.options.custom?0==e.options.custom.find(e.options.layout.container.selector).length?e.options.custom.append($(e.options.layout.container.object).addClass("i-am-new")):e.options.custom.find(e.options.layout.container.selector).removeClass("i-am-new"):0==$(e.options.layout.container.selector).length?$("body").append($(e.options.layout.container.object).addClass("i-am-new")):$(e.options.layout.container.selector).removeClass("i-am-new"),$.notyRenderer.setLayoutCountFor(e,1),e.show()},$.notyRenderer.createModalFor=function(e){if(0==$(".noty_modal").length){var t=$("<div/>").addClass("noty_modal").addClass(e.options.theme).data("noty_modal_count",0);e.options.theme.modal&&e.options.theme.modal.css&&t.css(e.options.theme.modal.css),t.prependTo($("body")).fadeIn(e.options.animation.fadeSpeed),$.inArray("backdrop",e.options.closeWith)>-1&&t.on("click",function(e){$.noty.closeAll()})}},$.notyRenderer.getLayoutCountFor=function(e){return $(e.options.layout.container.selector).data("noty_layout_count")||0},$.notyRenderer.setLayoutCountFor=function(e,t){return $(e.options.layout.container.selector).data("noty_layout_count",$.notyRenderer.getLayoutCountFor(e)+t)},$.notyRenderer.getModalCount=function(){return $(".noty_modal").data("noty_modal_count")||0},$.notyRenderer.setModalCount=function(e){return $(".noty_modal").data("noty_modal_count",$.notyRenderer.getModalCount()+e)},$.fn.noty=function(e){return e.custom=$(this),$.notyRenderer.init(e)},$.noty={},$.noty.queue=[],$.noty.ontap=!0,$.noty.layouts={},$.noty.themes={},$.noty.returns="object",$.noty.store={},$.noty.get=function(e){return $.noty.store.hasOwnProperty(e)?$.noty.store[e]:!1},$.noty.close=function(e){return $.noty.get(e)?$.noty.get(e).close():!1},$.noty.setText=function(e,t){return $.noty.get(e)?$.noty.get(e).setText(t):!1},$.noty.setType=function(e,t){return $.noty.get(e)?$.noty.get(e).setType(t):!1},$.noty.clearQueue=function(){$.noty.queue=[]},$.noty.closeAll=function(){$.noty.clearQueue(),$.each($.noty.store,function(e,t){t.close()})};var windowAlert=window.alert;
$.noty.consumeAlert=function(e){window.alert=function(t){e?e.text=t:e={text:t},$.notyRenderer.init(e)}},$.noty.stopConsumeAlert=function(){window.alert=windowAlert},$.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},$(window).on("resize",function(){$.each($.noty.layouts,function(e,t){t.container.style.apply($(t.container.selector))})}),window.noty=function(e){return $.notyRenderer.init(e)},$.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var e=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":$(e).css({borderRadius:"0px 0px 0px 0px"}),$(e).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":$(e).css({borderRadius:"0px 0px 0px 0px"}),$(e).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),$(e).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":$(e).css({borderRadius:"0px 0px 0px 0px"}),$(e).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAQAAAClM0ndAAAAhklEQVR4AdXO0QrCMBBE0bttkk38/w8WRERpdyjzVOc+HxhIHqJGMQcFFkpYRQotLLSw0IJ5aBdovruMYDA/kT8plF9ZKLFQcgF18hDj1SbQOMlCA4kao0iiXmah7qBWPdxpohsgVZyj7e5I9KcID+EhiDI5gxBYKLBQYKHAQoGFAoEks/YEGHYKB7hFxf0AAAAASUVORK5CYII=') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){$(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){$(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){$.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){$.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}},$.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){$(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&$(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e){var t={init:function(t){return this.options=e.extend({},e.noty.defaults,t),this.options.layout=this.options.custom?e.noty.layouts.inline:e.noty.layouts[this.options.layout],this.options.theme=e.noty.themes[this.options.theme],delete t.layout,delete t.theme,this.options=e.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this.options=e.extend({},this.options,t),this._build(),this},_build:function(){var t=e('<div class="noty_bar"/>').attr("id",this.options.id);if(t.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?e(this.options.layout.parent.object).css(this.options.layout.parent.css).append(t):t,this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var n=e("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(n):this.$bar.append(n);var o=this;e.each(this.options.buttons,function(t,n){var i=e("<button/>").addClass(n.addClass?n.addClass:"gray").html(n.text).appendTo(o.$bar.find(".noty_buttons")).bind("click",function(t){e.isFunction(n.onClick)&&n.onClick.call(i,o)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),e.noty.store[this.options.id]=this},show:function(){var t=this;return e(t.options.layout.container.selector).append(t.$bar),t.options.theme.style.apply(t),"function"===e.type(t.options.layout.css)?this.options.layout.css.apply(t.$bar):t.$bar.css(this.options.layout.css||{}),t.$bar.addClass(t.options.layout.addClass),t.options.layout.container.style.apply(e(t.options.layout.container.selector)),t.options.theme.callback.onShow.apply(this),e.inArray("click",t.options.closeWith)>-1&&t.$bar.css("cursor","pointer").one("click",function(){t.close()}),e.inArray("hover",t.options.closeWith)>-1&&t.$bar.one("mouseenter",function(){t.close()}),e.inArray("button",t.options.closeWith)>-1&&t.$closeButton.one("click",function(){t.close()}),-1==e.inArray("button",t.options.closeWith)&&t.$closeButton.remove(),t.options.callback.onShow&&t.options.callback.onShow.apply(t),t.$bar.animate(t.options.animation.open,t.options.animation.speed,t.options.animation.easing,function(){t.options.callback.afterShow&&t.options.callback.afterShow.apply(t),t.shown=!0}),t.options.timeout&&t.$bar.delay(t.options.timeout).promise().done(function(){t.close()}),this},close:function(){if(!this.closed){var t=this;if(!this.shown)return void e.each(e.noty.queue,function(n,o){o.options.id==t.options.id&&e.noty.queue.splice(n,1)});t.$bar.addClass("i-am-closing-now"),t.options.callback.onClose&&t.options.callback.onClose.apply(t),t.$bar.clearQueue().stop().animate(t.options.animation.close,t.options.animation.speed,t.options.animation.easing,function(){t.options.callback.afterClose&&t.options.callback.afterClose.apply(t)}).promise().done(function(){t.options.modal&&(e.notyRenderer.setModalCount(-1),0==e.notyRenderer.getModalCount()&&e(".noty_modal").fadeOut("fast",function(){e(this).remove()})),e.notyRenderer.setLayoutCountFor(t,-1),0==e.notyRenderer.getLayoutCountFor(t)&&e(t.options.layout.container.selector).remove(),t.$bar.remove(),t.$bar=null,t.closed=!0,delete e.noty.store[t.options.id],t.options.dismissQueue||(e.noty.ontap=!0,e.notyRenderer.render())})}},setText:function(e){return this.closed||(this.options.text=e,this.$bar.find(".noty_text").html(e)),this},setType:function(e){return this.closed||(this.options.type=e,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},closed:!1,shown:!1};e.notyRenderer={},e.notyRenderer.init=function(n){var o=Object.create(t).init(n);return o.options.force?e.noty.queue.unshift(o):e.noty.queue.push(o),e.notyRenderer.render(),"object"==e.noty.returns?o:o.options.id},e.notyRenderer.render=function(){var t=e.noty.queue[0];"object"===e.type(t)?t.options.dismissQueue?e.notyRenderer.show(e.noty.queue.shift()):e.noty.ontap&&(e.notyRenderer.show(e.noty.queue.shift()),e.noty.ontap=!1):e.noty.ontap=!0},e.notyRenderer.show=function(t){t.options.modal&&(e.notyRenderer.createModalFor(t),e.notyRenderer.setModalCount(1)),0==e(t.options.layout.container.selector).length?t.options.custom?t.options.custom.append(e(t.options.layout.container.object).addClass("i-am-new")):e("body").append(e(t.options.layout.container.object).addClass("i-am-new")):e(t.options.layout.container.selector).removeClass("i-am-new"),e.notyRenderer.setLayoutCountFor(t,1),t.show()},e.notyRenderer.createModalFor=function(t){0==e(".noty_modal").length&&e("<div/>").addClass("noty_modal").data("noty_modal_count",0).css(t.options.theme.modal.css).prependTo(e("body")).fadeIn("fast")},e.notyRenderer.getLayoutCountFor=function(t){return e(t.options.layout.container.selector).data("noty_layout_count")||0},e.notyRenderer.setLayoutCountFor=function(t,n){return e(t.options.layout.container.selector).data("noty_layout_count",e.notyRenderer.getLayoutCountFor(t)+n)},e.notyRenderer.getModalCount=function(){return e(".noty_modal").data("noty_modal_count")||0},e.notyRenderer.setModalCount=function(t){return e(".noty_modal").data("noty_modal_count",e.notyRenderer.getModalCount()+t)},e.fn.noty=function(t){return t.custom=e(this),e.notyRenderer.init(t)},e.noty={},e.noty.queue=[],e.noty.ontap=!0,e.noty.layouts={},e.noty.themes={},e.noty.returns="object",e.noty.store={},e.noty.get=function(t){return e.noty.store.hasOwnProperty(t)?e.noty.store[t]:!1},e.noty.close=function(t){return e.noty.get(t)?e.noty.get(t).close():!1},e.noty.setText=function(t,n){return e.noty.get(t)?e.noty.get(t).setText(n):!1},e.noty.setType=function(t,n){return e.noty.get(t)?e.noty.get(t).setType(n):!1},e.noty.clearQueue=function(){e.noty.queue=[]},e.noty.closeAll=function(){e.noty.clearQueue(),e.each(e.noty.store,function(e,t){t.close()})};var n=window.alert;e.noty.consumeAlert=function(t){window.alert=function(n){t?t.text=n:t={text:n},e.notyRenderer.init(t)}},e.noty.stopConsumeAlert=function(){window.alert=n},e.noty.defaults={layout:"top",theme:"default",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},timeout:!1,force:!1,modal:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){}},buttons:!1},e(window).resize(function(){e.each(e.noty.layouts,function(t,n){n.container.style.apply(e(n.container.selector))})})}(jQuery),function(e){e.noty.themes["default"]={name:"default",helpers:{borderFix:function(){if(this.options.dismissQueue){var t=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),e(t).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAYAAAAPOoFWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPZJREFUeNq81tsOgjAMANB2ov7/7ypaN7IlIwi9rGuT8QSc9EIDAsAznxvY4pXPKr05RUE5MEVB+TyWfCEl9LZApYopCmo9C4FKSMtYoI8Bwv79aQJU4l6hXXCZrQbokJEksxHo9KMOgc6w1atHXM8K9DVC7FQnJ0i8iK3QooGgbnyKgMDygBWyYFZoqx4qS27KqLZJjA1D0jK6QJcYEQEiWv9PGkTsbqxQ8oT+ZtZB6AkdsJnQDnMoHXHLGKOgDYuCWmYhEERCI5gaamW0bnHdA3k2ltlIN+2qKRyCND0bhqSYCyTB3CAOc4WusBEIpkeBuPgJMAAX8Hs1NfqHRgAAAABJRU5ErkJggg==') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAATpJREFUeNoszrFqVFEUheG19zlz7sQ7ijMQBAvfYBqbpJCoZSAQbOwEE1IHGytbLQUJ8SUktW8gCCFJMSGSNxCmFBJO7j5rpXD6n5/P5vM53H3b3T9LOiB5AQDuDjM7BnA7DMPHDGBH0nuSzwHsRcRVRNRSysuU0i6AOwA/02w2+9Fae00SEbEh6SGAR5K+k3zWWptKepCm0+kpyRoRGyRBcpPkDsn1iEBr7drdP2VJZyQXERGSPpiZAViTBACXKaV9kqd5uVzCzO5KKb/d/UZSDwD/eyxqree1VqSu6zKAF2Z2RPJJaw0rAkjOJT0m+SuT/AbgDcmnkmBmfwAsJL1dXQ8lWY6IGwB1ZbrOOb8zs8thGP4COFwx/mE8Ho9Go9ErMzvJOW/1fY/JZIJSypqZfXX3L13X9fcDAKJct1sx3OiuAAAAAElFTkSuQmCC)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.bind({mouseenter:function(){e(this).find(".noty_close").fadeIn()},mouseleave:function(){e(this).find(".noty_close").fadeOut()}}),this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){e.noty.themes["default"].helpers.borderFix.apply(this)},onClose:function(){e.noty.themes["default"].helpers.borderFix.apply(this)}}}}(jQuery),function(e){e.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){e(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.io=e()}}(function(){var e;return function t(e,n,o){function i(r,a){if(!n[r]){if(!e[r]){var c="function"==typeof require&&require;if(!a&&c)return c(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+r+"'")}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){var n=e[r][1][t];return i(n?n:t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,n){function o(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o=i(e),s=o.source,l=o.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(a("ignoring socket cache for %s",s),n=r(s,t)):(c[l]||(a("new io instance for %s",s),c[l]=r(s,t)),n=c[l]),n.socket(o.path)}var i=e("./url"),s=e("socket.io-parser"),r=e("./manager"),a=e("debug")("socket.io-client");t.exports=n=o;var c=n.managers={};n.protocol=s.protocol,n.connect=o,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":46}],3:[function(e,t,n){function o(e,t){return this instanceof o?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new o(e,t)}var i=(e("./url"),e("engine.io-client")),s=e("./socket"),r=e("component-emitter"),a=e("socket.io-parser"),c=e("./on"),l=e("component-bind"),d=(e("object-component"),e("debug")("socket.io-client:manager")),u=e("indexof"),p=e("backo2");t.exports=o,o.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},o.prototype.updateSocketIds=function(){for(var e in this.nsps)this.nsps[e].id=this.engine.id},r(o.prototype),o.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},o.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},o.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},o.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},o.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},o.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},o.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},o.prototype.open=o.prototype.connect=function(e){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=i(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=c(t,"open",function(){n.onopen(),e&&e()}),s=c(t,"error",function(t){if(d("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var o=new Error("Connection error");o.data=t,e(o)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var r=this._timeout;d("connect attempt will timeout after %d",r);var a=setTimeout(function(){d("connect attempt timed out after %d",r),o.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",r)},r);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(o),this.subs.push(s),this},o.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",l(this,"ondata"))),this.subs.push(c(this.decoder,"decoded",l(this,"ondecoded"))),this.subs.push(c(e,"error",l(this,"onerror"))),this.subs.push(c(e,"close",l(this,"onclose")))},o.prototype.ondata=function(e){this.decoder.add(e)},o.prototype.ondecoded=function(e){this.emit("packet",e)},o.prototype.onerror=function(e){d("error",e),this.emitAll("error",e)},o.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new s(this,e),this.nsps[e]=t;var n=this;t.on("connect",function(){t.id=n.engine.id,~u(n.connected,t)||n.connected.push(t)})}return t},o.prototype.destroy=function(e){var t=u(this.connected,e);~t&&this.connected.splice(t,1),this.connected.length||this.close()},o.prototype.packet=function(e){d("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++)t.engine.write(e[n]);t.encoding=!1,t.processPacketQueue()}))},o.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},o.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},o.prototype.close=o.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},o.prototype.onclose=function(e){d("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},o.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();d("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(d("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(d("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(d("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},o.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:42,"object-component":43,"socket.io-parser":46}],4:[function(e,t,n){function o(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=o},{}],5:[function(e,t,n){function o(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var i=e("socket.io-parser"),s=e("component-emitter"),r=e("to-array"),a=e("./on"),c=e("component-bind"),l=e("debug")("socket.io-client:socket"),d=e("has-binary");t.exports=n=o;var u={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},p=s.prototype.emit;s(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",c(this,"onopen")),a(e,"packet",c(this,"onpacket")),a(e,"close",c(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},o.prototype.send=function(){var e=r(arguments);return e.unshift("message"),this.emit.apply(this,e),this},o.prototype.emit=function(e){if(u.hasOwnProperty(e))return p.apply(this,arguments),this;var t=r(arguments),n=i.EVENT;d(t)&&(n=i.BINARY_EVENT);var o={type:n,data:t};return"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),this},o.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},o.prototype.onopen=function(){l("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:i.CONNECT})},o.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},o.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(e);break;case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:this.onack(e);break;case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},o.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},o.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var o=r(arguments);l("sending ack %j",o);var s=d(o)?i.BINARY_ACK:i.ACK;t.packet({type:s,id:e,data:o})}}},o.prototype.onack=function(e){l("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":38,"socket.io-parser":46,"to-array":50}],6:[function(e,t,n){
(function(n){function o(e,t){var o=e,t=t||n.location;return null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.hostname+e),/^(https?|wss?):\/\//.test(e)||(s("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),s("parse %s",e),o=i(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/",o.id=o.protocol+"://"+o.host+":"+o.port,o.href=o.protocol+"://"+o.host+(t&&t.port==o.port?"":":"+o.port),o}var i=e("parseuri"),s=e("debug")("socket.io-client:url");t.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:10,parseuri:44}],7:[function(e,t,n){function o(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=o,o.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},o.prototype.reset=function(){this.attempts=0},o.prototype.setMin=function(e){this.ms=e},o.prototype.setMax=function(e){this.max=e},o.prototype.setJitter=function(e){this.jitter=e}},{}],8:[function(e,t,n){var o=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=o.call(arguments,2);return function(){return t.apply(e,n.concat(o.call(arguments)))}}},{}],9:[function(e,t,n){function o(e){return e?i(e):void 0}function i(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}t.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},o.prototype.once=function(e,t){function n(){o.off(e,n),t.apply(this,arguments)}var o=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var o,i=0;i<n.length;i++)if(o=n[i],o===t||o.fn===t){n.splice(i,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var o=0,i=n.length;i>o;++o)n[o].apply(this,t)}return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],10:[function(e,t,n){function o(e){return o.enabled(e)?function(t){t=i(t);var n=new Date,s=n-(o[e]||n);o[e]=n,t=e+" "+t+" +"+o.humanize(s),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function i(e){return e instanceof Error?e.stack||e.message:e}t.exports=o,o.names=[],o.skips=[],o.enable=function(e){try{localStorage.debug=e}catch(t){}for(var n=(e||"").split(/[\s,]+/),i=n.length,s=0;i>s;s++)e=n[s].replace("*",".*?"),"-"===e[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$"))},o.disable=function(){o.enable("")},o.humanize=function(e){var t=1e3,n=6e4,o=60*n;return e>=o?(e/o).toFixed(1)+"h":e>=n?(e/n).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},o.enabled=function(e){for(var t=0,n=o.skips.length;n>t;t++)if(o.skips[t].test(e))return!1;for(var t=0,n=o.names.length;n>t;t++)if(o.names[t].test(e))return!0;return!1};try{window.localStorage&&o.enable(localStorage.debug)}catch(s){}},{}],11:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":12}],12:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(e,t,n){(function(n){function o(e,t){if(!(this instanceof o))return new o(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=d(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.host){var i=t.host.split(":");t.hostname=i.shift(),i.length?t.port=i.pop():t.port||(t.port=this.secure?"443":"80")}this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized||null,this.open()}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var s=e("./transports"),r=e("component-emitter"),a=e("debug")("engine.io-client:socket"),c=e("indexof"),l=e("engine.io-parser"),d=e("parseuri"),u=e("parsejson"),p=e("parseqs");t.exports=o,o.priorWebsocketSuccess=!1,r(o.prototype),o.protocol=l.protocol,o.Socket=o,o.Transport=e("./transport"),o.transports=e("./transports"),o.parser=e("engine.io-parser"),o.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=i(this.query);t.EIO=l.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new s[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},o.prototype.open=function(){var e;if(this.rememberUpgrade&&o.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},o.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},o.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;u=u||t}u||(a('probe transport "%s" opened',e),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(t){if(!u)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",d),!d)return;o.priorWebsocketSuccess="websocket"==d.name,a('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){u||"closed"!=p.readyState&&(a("changing transport and sending upgrade packet"),l(),p.setTransport(d),d.send([{type:"upgrade"}]),p.emit("upgrade",d),d=null,p.upgrading=!1,p.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=d.name,p.emit("upgradeError",n)}}))}function n(){u||(u=!0,l(),d.close(),d=null)}function i(t){var o=new Error("probe error: "+t);o.transport=d.name,n(),a('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",o)}function s(){i("transport closed")}function r(){i("socket closed")}function c(e){d&&e.name!=d.name&&(a('"%s" works - aborting "%s"',e.name,d.name),n())}function l(){d.removeListener("open",t),d.removeListener("error",i),d.removeListener("close",s),p.removeListener("close",r),p.removeListener("upgrading",c)}a('probing transport "%s"',e);var d=this.createTransport(e,{probe:1}),u=!1,p=this;o.priorWebsocketSuccess=!1,d.once("open",t),d.once("error",i),d.once("close",s),this.once("close",r),this.once("upgrading",c),d.open()},o.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",o.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},o.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(u(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},o.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},o.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},o.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},o.prototype.ping=function(){this.sendPacket("ping")},o.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},o.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},o.prototype.write=o.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},o.prototype.sendPacket=function(e,t,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var o={type:e,data:t};this.emit("packetCreate",o),this.writeBuffer.push(o),this.callbackBuffer.push(n),this.flush()}},o.prototype.close=function(){function e(){o.onClose("forced close"),a("socket closing - telling transport to close"),o.transport.close()}function t(){o.removeListener("upgrade",t),o.removeListener("upgradeError",t),e()}function n(){o.once("upgrade",t),o.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var o=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},o.prototype.onError=function(e){a("socket error %j",e),o.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},o.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},o.prototype.filterUpgrades=function(e){for(var t=[],n=0,o=e.length;o>n;n++)~c(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:42,parsejson:34,parseqs:35,parseuri:36}],14:[function(e,t,n){function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized}var i=e("engine.io-parser"),s=e("component-emitter");t.exports=o,s(o.prototype),o.timestamps=0,o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(e,t,n){(function(t){function o(e){var n,o=!1,a=!1,c=!1!==e.jsonp;if(t.location){var l="https:"==location.protocol,d=location.port;d||(d=l?443:80),o=e.hostname!=location.hostname||d!=e.port,a=e.secure!=l}if(e.xdomain=o,e.xscheme=a,n=new i(e),"open"in n&&!e.forceJSONP)return new s(e);if(!c)throw new Error("JSONP disabled");return new r(e)}var i=e("xmlhttprequest"),s=e("./polling-xhr"),r=e("./polling-jsonp"),a=e("./websocket");n.polling=o,n.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(e,t,n){(function(n){function o(){}function i(e){s.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=o)},!1)}var s=e("./polling"),r=e("component-inherit");t.exports=i;var a,c=/\n/g,l=/\\n/g;r(i,s),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.script=t;var o="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);o&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype.doWrite=function(e,t){function n(){o(),t()}function o(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+i.iframeId+'">';s=document.createElement(t)}catch(e){s=document.createElement("iframe"),s.name=i.iframeId,s.src="javascript:0"}s.id=i.iframeId,i.form.appendChild(s),i.iframe=s}var i=this;if(!this.form){var s,r=document.createElement("form"),a=document.createElement("textarea"),d=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=d,r.method="POST",r.setAttribute("accept-charset","utf-8"),a.name="d",r.appendChild(a),document.body.appendChild(r),this.form=r,this.area=a}this.form.action=this.uri(),o(),e=e.replace(l,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(e,t,n){(function(n){function o(){}function i(e){if(c.call(this,e),n.location){var t="https:"==location.protocol,o=location.port;o||(o=t?443:80),this.xd=e.hostname!=n.location.hostname||o!=e.port,this.xs=e.secure!=t}}function s(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.create()}function r(){for(var e in s.requests)s.requests.hasOwnProperty(e)&&s.requests[e].abort()}var a=e("xmlhttprequest"),c=e("./polling"),l=e("component-emitter"),d=e("component-inherit"),u=e("debug")("engine.io-client:polling-xhr");t.exports=i,t.exports.Request=s,d(i,c),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,new s(e)},i.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,o=this.request({method:"POST",data:e,isBinary:n}),i=this;o.on("success",t),o.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=o},i.prototype.doPoll=function(){u("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},l(s.prototype),s.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),o=this;try{if(u("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){o.onLoad()},t.onerror=function(){o.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?o.onLoad():setTimeout(function(){o.onError(t.status)},0))},u("xhr data %s",this.data),t.send(this.data)}catch(i){return void setTimeout(function(){o.onError(i)},0)}n.document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},s.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},s.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=o:this.xhr.onreadystatechange=o,e)try{this.xhr.abort()}catch(t){}n.document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},s.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},n.document&&(s.requestsCount=0,s.requests={},n.attachEvent?n.attachEvent("onunload",r):n.addEventListener&&n.addEventListener("beforeunload",r,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(e,t,n){function o(e){var t=e&&e.forceBase64;(!l||t)&&(this.supportsBinary=!1),i.call(this,e)}var i=e("../transport"),s=e("parseqs"),r=e("engine.io-parser"),a=e("component-inherit"),c=e("debug")("engine.io-client:polling");t.exports=o;var l=function(){var t=e("xmlhttprequest"),n=new t({xdomain:!1});return null!=n.responseType}();a(o,i),o.prototype.name="polling",o.prototype.doOpen=function(){this.poll()},o.prototype.pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(c("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){c("pre-pause polling complete"),--o||t()})),this.writable||(c("we are currently writing - waiting to pause"),o++,this.once("drain",function(){c("pre-pause writing complete"),--o||t()}))}else t()},o.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},o.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e,n,o){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};r.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},o.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},o.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},o.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+i.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=s.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:35,xmlhttprequest:20}],19:[function(e,t,n){function o(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),i.call(this,e)}var i=e("../transport"),s=e("engine.io-parser"),r=e("parseqs"),a=e("component-inherit"),c=e("debug")("engine.io-client:websocket"),l=e("ws");t.exports=o,a(o,i),o.prototype.name="websocket",o.prototype.supportsBinary=!0,o.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.ws=new l(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},o.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(o.prototype.onData=function(e){var t=this;setTimeout(function(){i.prototype.onData.call(t,e)},0)}),o.prototype.write=function(e){function t(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var o=0,i=e.length;i>o;o++)s.encodePacket(e[o],this.supportsBinary,function(e){try{n.ws.send(e)}catch(t){c("websocket closed before onclose event")}});setTimeout(t,0)},o.prototype.onClose=function(){i.prototype.onClose.call(this)},o.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},o.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=r.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e},o.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===o.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:35,ws:37}],20:[function(e,t,n){var o=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||o))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(s){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}},{"has-cors":40}],21:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],22:[function(e,t,n){function o(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var o="color: "+this.color;e=[e[0],o,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%"!==e&&(i++,"%c"===e&&(s=i))}),e.splice(s,0,o),e}function s(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function r(e){try{null==e?localStorage.removeItem("debug"):localStorage.debug=e}catch(t){}}function a(){var e;try{e=localStorage.debug}catch(t){}return e}n=t.exports=e("./debug"),n.log=s,n.formatArgs=i,n.save=r,n.load=a,n.useColors=o,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":23}],23:[function(e,t,n){function o(){return n.colors[d++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,s=t-(l||t);e.diff=s,e.prev=l,e.curr=t,l=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=o());var r=Array.prototype.slice.call(arguments);r[0]=n.coerce(r[0]),"string"!=typeof r[0]&&(r=["%o"].concat(r));var a=0;r[0]=r[0].replace(/%([a-z%])/g,function(t,o){if("%"===t)return t;a++;var i=n.formatters[o];if("function"==typeof i){var s=r[a];t=i.call(e,s),r.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(r=n.formatArgs.apply(e,r));var c=i.log||n.log||console.log.bind(console);c.apply(e,r)}t.enabled=!1,i.enabled=!0;var s=n.enabled(e)?i:t;return s.namespace=e,s}function s(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),o=t.length,i=0;o>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function r(){n.enable("")}function a(e){var t,o;for(t=0,o=n.skips.length;o>t;t++)if(n.skips[t].test(e))return!1;for(t=0,o=n.names.length;o>t;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=c,n.disable=r,n.enable=s,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var l,d=0},{ms:24}],24:[function(e,t,n){function o(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"y":return n*u;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"h":return n*l;case"minutes":case"minute":case"m":return n*c;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function i(e){return e>=d?Math.round(e/d)+"d":e>=l?Math.round(e/l)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function s(e){return r(e,d,"day")||r(e,l,"hour")||r(e,c,"minute")||r(e,a,"second")||e+" ms"}function r(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,c=60*a,l=60*c,d=24*l,u=365.25*d;t.exports=function(e,t){return t=t||{},"string"==typeof e?o(e):t["long"]?s(e):i(e)}},{}],25:[function(e,t,n){(function(t){function o(e,t){var o="b"+n.packets[e.type]+e.data.data;return t(o)}function i(e,t,o){if(!t)return n.encodeBase64Packet(e,o);var i=e.data,s=new Uint8Array(i),r=new Uint8Array(1+i.byteLength);r[0]=y[e.type];for(var a=0;a<s.length;a++)r[a+1]=s[a];return o(r.buffer)}function s(e,t,o){if(!t)return n.encodeBase64Packet(e,o);var i=new FileReader;return i.onload=function(){e.data=i.result,n.encodePacket(e,t,!0,o)},i.readAsArrayBuffer(e.data)}function r(e,t,o){if(!t)return n.encodeBase64Packet(e,o);if(g)return s(e,t,o);var i=new Uint8Array(1);i[0]=y[e.type];var r=new k([i.buffer,e.data]);return o(r)}function a(e,t,n){for(var o=new Array(e.length),i=p(e.length,n),s=function(e,n,i){t(n,function(t,n){o[e]=n,i(t,o)})},r=0;r<e.length;r++)s(r,e[r],i)}var c=e("./keys"),l=e("has-binary"),d=e("arraybuffer.slice"),u=e("base64-arraybuffer"),p=e("after"),h=e("utf8"),f=navigator.userAgent.match(/Android/i),m=/PhantomJS/i.test(navigator.userAgent),g=f||m;n.protocol=3;var y=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=c(y),b={type:"error",data:"parser error"},k=e("blob");n.encodePacket=function(e,n,s,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof s&&(a=s,s=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return i(e,n,a);if(k&&c instanceof t.Blob)return r(e,n,a);if(c&&c.base64)return o(e,a);var l=y[e.type];return void 0!==e.data&&(l+=s?h.encode(String(e.data)):String(e.data)),a(""+l)},n.encodeBase64Packet=function(e,o){var i="b"+n.packets[e.type];if(k&&e.data instanceof k){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];o(i+e)},s.readAsDataURL(e.data)}var r;try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var c=new Uint8Array(e.data),l=new Array(c.length),d=0;d<c.length;d++)l[d]=c[d];r=String.fromCharCode.apply(null,l)}return i+=t.btoa(r),o(i)},n.decodePacket=function(e,t,o){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(o)try{e=h.decode(e)}catch(i){return b}var s=e.charAt(0);return Number(s)==s&&v[s]?e.length>1?{type:v[s],data:e.substring(1)}:{type:v[s]}:b}var r=new Uint8Array(e),s=r[0],a=d(e,1);return k&&"blob"===t&&(a=new k([a])),{type:v[s],data:a}},n.decodeBase64Packet=function(e,n){var o=v[e.charAt(0)];if(!t.ArrayBuffer)return{type:o,data:{base64:!0,data:e.substr(1)}};var i=u.decode(e.substr(1));return"blob"===n&&k&&(i=new k([i])),{type:o,data:i}},n.encodePayload=function(e,t,o){function i(e){return e.length+":"+e}function s(e,o){n.encodePacket(e,r?t:!1,!0,function(e){o(null,i(e));
})}"function"==typeof t&&(o=t,t=null);var r=l(e);return t&&r?k&&!g?n.encodePayloadAsBlob(e,o):n.encodePayloadAsArrayBuffer(e,o):e.length?void a(e,s,function(e,t){return o(t.join(""))}):o("0:")},n.decodePayload=function(e,t,o){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,o);"function"==typeof t&&(o=t,t=null);var i;if(""==e)return o(b,0,1);for(var s,r,a="",c=0,l=e.length;l>c;c++){var d=e.charAt(c);if(":"!=d)a+=d;else{if(""==a||a!=(s=Number(a)))return o(b,0,1);if(r=e.substr(c+1,s),a!=r.length)return o(b,0,1);if(r.length){if(i=n.decodePacket(r,t,!0),b.type==i.type&&b.data==i.data)return o(b,0,1);var u=o(i,c+s,l);if(!1===u)return}c+=s,a=""}}return""!=a?o(b,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function o(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void a(e,o,function(e,n){var o=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(o),s=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var o=new Uint8Array(e.length),r=0;r<e.length;r++)o[r]=e.charCodeAt(r);n=o.buffer}t?i[s++]=0:i[s++]=1;for(var a=n.byteLength.toString(),r=0;r<a.length;r++)i[s++]=parseInt(a[r]);i[s++]=255;for(var o=new Uint8Array(n),r=0;r<o.length;r++)i[s++]=o[r]}),t(i.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function o(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var o=new Uint8Array(e.length),i=0;i<e.length;i++)o[i]=e.charCodeAt(i);e=o.buffer,n[0]=0}for(var s=e instanceof ArrayBuffer?e.byteLength:e.size,r=s.toString(),a=new Uint8Array(r.length+1),i=0;i<r.length;i++)a[i]=parseInt(r[i]);if(a[r.length]=255,k){var c=new k([n.buffer,a.buffer,e]);t(null,c)}})}a(e,o,function(e,n){return t(new k(n))})},n.decodePayloadAsBinary=function(e,t,o){"function"==typeof t&&(o=t,t=null);for(var i=e,s=[],r=!1;i.byteLength>0;){for(var a=new Uint8Array(i),c=0===a[0],l="",u=1;255!=a[u];u++){if(l.length>310){r=!0;break}l+=a[u]}if(r)return o(b,0,1);i=d(i,2+l.length),l=parseInt(l);var p=d(i,0,l);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(h){var f=new Uint8Array(p);p="";for(var u=0;u<f.length;u++)p+=String.fromCharCode(f[u])}s.push(p),i=d(i,l)}var m=s.length;s.forEach(function(e,i){o(n.decodePacket(e,t,!0),i,m)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":31,utf8:33}],26:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var o in e)n.call(e,o)&&t.push(o);return t}},{}],27:[function(e,t,n){function o(e,t,n){function o(e,i){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(s=!0,t(e),t=n):0!==o.count||s||t(null,i)}var s=!1;return n=n||i,o.count=e,0===e?t():o}function i(){}t.exports=o},{}],28:[function(e,t,n){t.exports=function(e,t,n){var o=e.byteLength;if(t=t||0,n=n||o,e.slice)return e.slice(t,n);if(0>t&&(t+=o),0>n&&(n+=o),n>o&&(n=o),t>=o||t>=n||0===o)return new ArrayBuffer(0);for(var i=new Uint8Array(e),s=new Uint8Array(n-t),r=t,a=0;n>r;r++,a++)s[a]=i[r];return s.buffer}},{}],29:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,o=new Uint8Array(t),i=o.length,s="";for(n=0;i>n;n+=3)s+=e[o[n]>>2],s+=e[(3&o[n])<<4|o[n+1]>>4],s+=e[(15&o[n+1])<<2|o[n+2]>>6],s+=e[63&o[n+2]];return i%3===2?s=s.substring(0,s.length-1)+"=":i%3===1&&(s=s.substring(0,s.length-2)+"=="),s},n.decode=function(t){var n,o,i,s,r,a=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var d=new ArrayBuffer(a),u=new Uint8Array(d);for(n=0;c>n;n+=4)o=e.indexOf(t[n]),i=e.indexOf(t[n+1]),s=e.indexOf(t[n+2]),r=e.indexOf(t[n+3]),u[l++]=o<<2|i>>4,u[l++]=(15&i)<<4|s>>2,u[l++]=(3&s)<<6|63&r;return d}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],30:[function(e,t,n){(function(e){function n(e,t){t=t||{};for(var n=new o,i=0;i<e.length;i++)n.append(e[i]);return t.type?n.getBlob(t.type):n.getBlob()}var o=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,i=function(){try{var e=new Blob(["hi"]);return 2==e.size}catch(t){return!1}}(),s=o&&o.prototype.append&&o.prototype.getBlob;t.exports=function(){return i?e.Blob:s?n:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(e,t,n){(function(n){function o(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(i(e)){for(var o=0;o<e.length;o++)if(t(e[o]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var s in e)if(e.hasOwnProperty(s)&&t(e[s]))return!0}return!1}return t(e)}var i=e("isarray");t.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:32}],32:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],33:[function(t,n,o){(function(t){!function(i){function s(e){for(var t,n,o=[],i=0,s=e.length;s>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&s>i?(n=e.charCodeAt(i++),56320==(64512&n)?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),i--)):o.push(t);return o}function r(e){for(var t,n=e.length,o=-1,i="";++o<n;)t=e[o],t>65535&&(t-=65536,i+=b(t>>>10&1023|55296),t=56320|1023&t),i+=b(t);return i}function a(e,t){return b(e>>t&63|128)}function c(e){if(0==(4294967168&e))return b(e);var t="";return 0==(4294965248&e)?t=b(e>>6&31|192):0==(4294901760&e)?(t=b(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=b(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=b(63&e|128)}function l(e){for(var t,n=s(e),o=n.length,i=-1,r="";++i<o;)t=n[i],r+=c(t);return r}function d(){if(v>=y)throw Error("Invalid byte index");var e=255&g[v];if(v++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(){var e,t,n,o,i;if(v>y)throw Error("Invalid byte index");if(v==y)return!1;if(e=255&g[v],v++,0==(128&e))return e;if(192==(224&e)){var t=d();if(i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=d(),n=d(),i=(15&e)<<12|t<<6|n,i>=2048)return i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=d(),n=d(),o=d(),i=(15&e)<<18|t<<12|n<<6|o,i>=65536&&1114111>=i))return i;throw Error("Invalid UTF-8 detected")}function p(e){g=s(e),y=g.length,v=0;for(var t,n=[];(t=u())!==!1;)n.push(t);return r(n)}var h="object"==typeof o&&o,f="object"==typeof n&&n&&n.exports==h&&n,m="object"==typeof t&&t;(m.global===m||m.window===m)&&(i=m);var g,y,v,b=String.fromCharCode,k={version:"2.0.0",encode:l,decode:p};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return k});else if(h&&!h.nodeType)if(f)f.exports=k;else{var w={},C=w.hasOwnProperty;for(var x in k)C.call(k,x)&&(h[x]=k[x])}else i.utf8=k}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(r,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(o,"@").replace(i,"]").replace(s,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),o=0,i=n.length;i>o;o++){var s=n[o].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},{}],36:[function(e,t,n){var o=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),s=e.indexOf("]");-1!=n&&-1!=s&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));for(var r=o.exec(e||""),a={},c=14;c--;)a[i[c]]=r[c]||"";return-1!=n&&-1!=s&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],37:[function(e,t,n){function o(e,t,n){var o;return o=t?new s(e,t):new s(e)}var i=function(){return this}(),s=i.WebSocket||i.MozWebSocket;t.exports=s?o:null,s&&(o.prototype=s.prototype)},{}],38:[function(e,t,n){(function(n){function o(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(i(e)){for(var o=0;o<e.length;o++)if(t(e[o]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0}return!1}return t(e)}var i=e("isarray");t.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:39}],39:[function(e,t,n){t.exports=e(32)},{}],40:[function(e,t,n){var o=e("global");try{t.exports="XMLHttpRequest"in o&&"withCredentials"in new o.XMLHttpRequest}catch(i){t.exports=!1}},{global:41}],41:[function(e,t,n){t.exports=function(){return this}()},{}],42:[function(e,t,n){var o=[].indexOf;t.exports=function(e,t){if(o)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],43:[function(e,t,n){var o=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],44:[function(e,t,n){var o=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=o.exec(e||""),n={},s=14;s--;)n[i[s]]=t[s]||"";return n}},{}],45:[function(e,t,n){(function(t){var o=e("isarray"),i=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(i(e)){var s={_placeholder:!0,num:n.length};return n.push(e),s}if(o(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=t(e[a]);return r}if("object"==typeof e&&!(e instanceof Date)){var r={};for(var c in e)r[c]=t(e[c]);return r}return e}var n=[],s=e.data,r=e;return r.data=t(s),r.attachments=n.length,{packet:r,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var i=t[e.num];return i}if(o(e)){for(var s=0;s<e.length;s++)e[s]=n(e[s]);return e}if(e&&"object"==typeof e){for(var r in e)e[r]=n(e[r]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function s(e,c,l){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){r++;var d=new FileReader;d.onload=function(){l?l[c]=this.result:a=this.result,--r||n(a)},d.readAsArrayBuffer(e)}else if(o(e))for(var u=0;u<e.length;u++)s(e[u],u,e);else if(e&&"object"==typeof e&&!i(e))for(var p in e)s(e[p],p,e)}var r=0,a=e;s(a),r||n(a)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":47,isarray:48}],46:[function(e,t,n){function o(){}function i(e){var t="",o=!1;return t+=e.type,(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(o=!0,t+=e.nsp),null!=e.id&&(o&&(t+=",",o=!1),t+=e.id),null!=e.data&&(o&&(t+=","),t+=u.stringify(e.data)),d("encoded %j as %s",e,t),t}function s(e,t){function n(e){var n=h.deconstructPacket(e),o=i(n.packet),s=n.buffers;s.unshift(o),t(s)}h.removeBlobs(e,n)}function r(){this.reconstructor=null}function a(e){var t={},o=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return l();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var i="";"-"!=e.charAt(++o)&&(i+=e.charAt(o),o!=e.length););if(i!=Number(i)||"-"!=e.charAt(o))throw new Error("Illegal attachments");t.attachments=Number(i)}if("/"==e.charAt(o+1))for(t.nsp="";++o;){var s=e.charAt(o);if(","==s)break;if(t.nsp+=s,o==e.length)break}else t.nsp="/";var r=e.charAt(o+1);if(""!==r&&Number(r)==r){for(t.id="";++o;){var s=e.charAt(o);if(null==s||Number(s)!=s){--o;break}if(t.id+=e.charAt(o),o==e.length)break}t.id=Number(t.id)}if(e.charAt(++o))try{t.data=u.parse(e.substr(o))}catch(a){return l()}return d("decoded %s as %j",e,t),t}function c(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:n.ERROR,data:"parser error"}}var d=e("debug")("socket.io-parser"),u=e("json3"),p=(e("isarray"),e("component-emitter")),h=e("./binary"),f=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=o,n.Decoder=r,o.prototype.encode=function(e,t){if(d("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)s(e,t);else{var o=i(e);t([o])}},p(r.prototype),r.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new c(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!f(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":45,"./is-buffer":47,"component-emitter":9,debug:10,isarray:48,json3:49}],47:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(e,t,n){t.exports=e(32)},{}],49:[function(t,n,o){!function(t){function n(e){if(n[e]!==r)return n[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=n("json-stringify")&&n("json-parse");else{var o,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var s=d.stringify,c="function"==typeof s&&u;if(c){(o=function(){return 1}).toJSON=o;try{c="0"===s(0)&&"0"===s(new Number)&&'""'==s(new String)&&s(a)===r&&s(r)===r&&s()===r&&"1"===s(o)&&"[1]"==s([o])&&"[null]"==s([r])&&"null"==s(null)&&"[null,null,null]"==s([r,a,null])&&s({a:[o,!0,!1,null,"\x00\b\n\f\r	"]})==i&&"1"===s(null,o)&&"[\n 1,\n 2\n]"==s([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==s(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new Date(-1))}catch(l){c=!1}}t=c}if("json-parse"==e){var p=d.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){o=p(i);var h=5==o.a.length&&1===o.a[0];if(h){try{h=!p('"	"')}catch(l){}if(h)try{h=1!==p("01")}catch(l){}if(h)try{h=1!==p("1.")}catch(l){}}}}catch(l){h=!1}t=h}}return n[e]=!!t}var i,s,r,a={}.toString,c="function"==typeof e&&e.amd,l="object"==typeof JSON&&JSON,d="object"==typeof o&&o&&!o.nodeType&&o;d&&l?(d.stringify=l.stringify,d.parse=l.parse):d=t.JSON=l||{};var u=new Date(-0xc782b5b800cec);try{u=-109252==u.getUTCFullYear()&&0===u.getUTCMonth()&&1===u.getUTCDate()&&10==u.getUTCHours()&&37==u.getUTCMinutes()&&6==u.getUTCSeconds()&&708==u.getUTCMilliseconds()}catch(p){}if(!n("json")){var h="[object Function]",f="[object Date]",m="[object Number]",g="[object String]",y="[object Array]",v="[object Boolean]",b=n("bug-string-char-index");if(!u)var k=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return w[t]+365*(e-1970)+k((e-1969+(t=+(t>1)))/4)-k((e-1901+t)/100)+k((e-1601+t)/400)};(i={}.hasOwnProperty)||(i=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=a?i=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,i=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,i.call(this,e)});var x={"boolean":1,number:1,string:1,undefined:1},$=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!x[n]};if(s=function(e,t){var n,o,r,c=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,o=new n;for(r in o)i.call(o,r)&&c++;return n=o=null,c?s=2==c?function(e,t){var n,o={},s=a.call(e)==h;for(n in e)s&&"prototype"==n||i.call(o,n)||!(o[n]=1)||!i.call(e,n)||t(n)}:function(e,t){var n,o,s=a.call(e)==h;for(n in e)s&&"prototype"==n||!i.call(e,n)||(o="constructor"===n)||t(n);(o||i.call(e,n="constructor"))&&t(n)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],s=function(e,t){var n,s,r=a.call(e)==h,c=!r&&"function"!=typeof e.constructor&&$(e,"hasOwnProperty")?e.hasOwnProperty:i;for(n in e)r&&"prototype"==n||!c.call(e,n)||t(n);for(s=o.length;n=o[--s];c.call(e,n)&&t(n));}),s(e,t)},!n("json-stringify")){var _={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},A="000000",D=function(e,t){return(A+(t||0)).slice(-e)},S="\\u00",T=function(e){var t,n='"',o=0,i=e.length,s=i>10&&b;for(s&&(t=e.split(""));i>o;o++){var r=e.charCodeAt(o);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=_[r];break;default:if(32>r){n+=S+D(2,r.toString(16));break}n+=s?t[o]:b?e.charAt(o):e[o]}}return n+'"'},I=function(e,t,n,o,c,l,d){var u,p,h,b,w,x,$,_,A,S,j,B,M,P,F,E;try{u=t[e]}catch(R){}if("object"==typeof u&&u)if(p=a.call(u),p!=f||i.call(u,"toJSON"))"function"==typeof u.toJSON&&(p!=m&&p!=g&&p!=y||i.call(u,"toJSON"))&&(u=u.toJSON(e));else if(u>-1/0&&1/0>u){if(C){for(w=k(u/864e5),h=k(w/365.2425)+1970-1;C(h+1,0)<=w;h++);for(b=k((w-C(h,0))/30.42);C(h,b+1)<=w;b++);w=1+w-C(h,b),x=(u%864e5+864e5)%864e5,$=k(x/36e5)%24,_=k(x/6e4)%60,A=k(x/1e3)%60,S=x%1e3}else h=u.getUTCFullYear(),b=u.getUTCMonth(),w=u.getUTCDate(),$=u.getUTCHours(),_=u.getUTCMinutes(),A=u.getUTCSeconds(),S=u.getUTCMilliseconds();u=(0>=h||h>=1e4?(0>h?"-":"+")+D(6,0>h?-h:h):D(4,h))+"-"+D(2,b+1)+"-"+D(2,w)+"T"+D(2,$)+":"+D(2,_)+":"+D(2,A)+"."+D(3,S)+"Z"}else u=null;if(n&&(u=n.call(t,e,u)),null===u)return"null";if(p=a.call(u),p==v)return""+u;if(p==m)return u>-1/0&&1/0>u?""+u:"null";if(p==g)return T(""+u);if("object"==typeof u){for(P=d.length;P--;)if(d[P]===u)throw TypeError();if(d.push(u),j=[],F=l,l+=c,p==y){for(M=0,P=u.length;P>M;M++)B=I(M,u,n,o,c,l,d),j.push(B===r?"null":B);E=j.length?c?"[\n"+l+j.join(",\n"+l)+"\n"+F+"]":"["+j.join(",")+"]":"[]"}else s(o||u,function(e){var t=I(e,u,n,o,c,l,d);t!==r&&j.push(T(e)+":"+(c?" ":"")+t)}),E=j.length?c?"{\n"+l+j.join(",\n"+l)+"\n"+F+"}":"{"+j.join(",")+"}":"{}";return d.pop(),E}};d.stringify=function(e,t,n){var o,i,s,r;if("function"==typeof t||"object"==typeof t&&t)if((r=a.call(t))==h)i=t;else if(r==y){s={};for(var c,l=0,d=t.length;d>l;c=t[l++],r=a.call(c),(r==g||r==m)&&(s[c]=1));}if(n)if((r=a.call(n))==m){if((n-=n%1)>0)for(o="",n>10&&(n=10);o.length<n;o+=" ");}else r==g&&(o=n.length<=10?n:n.slice(0,10));return I("",(c={},c[""]=e,c),i,s,o,"",[])}}if(!n("json-parse")){var j,B,M=String.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},F=function(){throw j=B=null,SyntaxError()},E=function(){for(var e,t,n,o,i,s=B,r=s.length;r>j;)switch(i=s.charCodeAt(j)){case 9:case 10:case 13:case 32:j++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?s.charAt(j):s[j],j++,e;case 34:for(e="@",j++;r>j;)if(i=s.charCodeAt(j),32>i)F();else if(92==i)switch(i=s.charCodeAt(++j)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=P[i],j++;break;case 117:for(t=++j,n=j+4;n>j;j++)i=s.charCodeAt(j),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||F();e+=M("0x"+s.slice(t,j));break;default:F()}else{if(34==i)break;for(i=s.charCodeAt(j),t=j;i>=32&&92!=i&&34!=i;)i=s.charCodeAt(++j);e+=s.slice(t,j)}if(34==s.charCodeAt(j))return j++,e;F();default:if(t=j,45==i&&(o=!0,i=s.charCodeAt(++j)),i>=48&&57>=i){for(48==i&&(i=s.charCodeAt(j+1),i>=48&&57>=i)&&F(),o=!1;r>j&&(i=s.charCodeAt(j),i>=48&&57>=i);j++);if(46==s.charCodeAt(j)){for(n=++j;r>n&&(i=s.charCodeAt(n),i>=48&&57>=i);n++);n==j&&F(),j=n}if(i=s.charCodeAt(j),101==i||69==i){for(i=s.charCodeAt(++j),(43==i||45==i)&&j++,n=j;r>n&&(i=s.charCodeAt(n),i>=48&&57>=i);n++);n==j&&F(),j=n}return+s.slice(t,j)}if(o&&F(),"true"==s.slice(j,j+4))return j+=4,!0;if("false"==s.slice(j,j+5))return j+=5,!1;if("null"==s.slice(j,j+4))return j+=4,null;F()}return"$"},R=function(e){var t,n;if("$"==e&&F(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=E(),"]"!=e;n||(n=!0))n&&(","==e?(e=E(),"]"==e&&F()):F()),","==e&&F(),t.push(R(e));return t}if("{"==e){for(t={};e=E(),"}"!=e;n||(n=!0))n&&(","==e?(e=E(),"}"==e&&F()):F()),(","==e||"string"!=typeof e||"@"!=(b?e.charAt(0):e[0])||":"!=E())&&F(),t[e.slice(1)]=R(E());return t}F()}return e},N=function(e,t,n){var o=O(e,t,n);o===r?delete e[t]:e[t]=o},O=function(e,t,n){var o,i=e[t];if("object"==typeof i&&i)if(a.call(i)==y)for(o=i.length;o--;)N(i,o,n);else s(i,function(e){N(i,e,n)});return n.call(e,t,i)};d.parse=function(e,t){var n,o;return j=0,B=""+e,n=R(E()),"$"!=E()&&F(),j=B=null,t&&a.call(t)==h?O((o={},o[""]=n,o),"",t):n}}}c&&e(function(){return d})}(this)},{}],50:[function(e,t,n){function o(e,t){var n=[];t=t||0;for(var o=t||0;o<e.length;o++)n[o-t]=e[o];return n}t.exports=o},{}]},{},[1])(1)});var webkit=!!navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/),tab_sync_functions={closeMessage:$.Callbacks().add(function(e){$.noty.close(e.id)}),showMessage:$.Callbacks().add(function(e){noty(e)})};if(supportsStorage()){var synchro=function(e,t){t&&"undefined"!=typeof tab_sync_functions[e]&&tab_sync_functions[e].fire(t)},onStorage=function(e){var t=JSON.parse(e.newValue);synchro(e.key,t),localStorage.removeItem(e.key)},needCall=!1;window.opera||webkit?(window.addEventListener("storage",onStorage,!1),needCall=!0):document.body?document.body.addEventListener("storage",onStorage,!1):(window.addEventListener("storage",onStorage,!1),needCall=!0),broadcast=function(e,t){localStorage.setItem(e,JSON.stringify(t)),needCall&&synchro(e,t)}}else broadcast=function(e,t){"undefined"!=typeof tab_sync_functions[e]&&tab_sync_functions[e].fire(t)};broadcast.t=function(e,t){for(param in t)e=e.replace("{"+param+"}",t[param]);return e},broadcast.on=function(e,t){return"undefined"==typeof tab_sync_functions[e]&&(tab_sync_functions[e]=$.Callbacks()),tab_sync_functions[e]=tab_sync_functions[e].add(t),socket.on(e,t),!0},$(document).ready(function(){socket.on("command",function(e){"undefined"!=typeof tab_sync_functions[e.command]&&tab_sync_functions[e.command].fire(e.data)})}),$(document).ready(function(){if(inputInit(),"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E)"==navigator.userAgent&&$("body img").each(function(e,t){var n=$(this).attr("src");$(this).attr("src",n.replace(".svg",".png"))}),$(".dateIcon").size()){var e=new Date,t=e.getMonth(),n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];$(".item .image .dateIcon").text(e.getDate()),$(".item .image .monthIcon").text(n[t])}}),$(document).on("change","input[type=radio]",function(){$("input").trigger("refresh")}),$(document).scroll(function(){$(".jspVerticalBar").stop().animate({opacity:.6},100),setTimeout(function(){$(".jspVerticalBar").stop().animate({opacity:0},500)},300)}),$(document).on("mousedown ",".topFormContent",function(){$("body").addClass("formVisible")}),$(document).on("click ",".showPass",function(){$(this).toggleClass("active"),$(this).hasClass("active")?$(this).parents(".rowBlock").find("input").prop("type","text"):$(this).parents(".rowBlock").find("input").prop("type","password")}),$(document).on("focus ",'.rowBlock input[type="text"], .rowBlock input[type="password"], .rowBlock textarea, .rowBlock .textareaImmitator',function(){$(this).parents(".rowBlock").find(".placeHolder").addClass("rightHolder"),$(this).parents(".rowBlock").addClass("focus")}),$(document).on("focus ",'.copyLinkBlock input[type="text"]',function(){setTimeout(function(){$('.copyLinkBlock input[type="text"]').select()},20)}),$(document).on("keyup change ",'.rowBlock input[type="text"], .rowBlock input[type="password"]',function(e){if(-1!=$(this).parents(".rowBlock .placeHolder").length){if($(this).removeClass("alreadyClear"),0==$(this).hasClass("alreadyClear")){var t=$(this).parents(".rowBlock"),n=t.find(".placeHolder").width(),o=t.find(".placeholderFixer"),i=parseInt($(this).css("width"));if(t.find(".placeHolder").addClass("rightHolder").css({left:i-n-12}),$(this).css("padding-right",n+20),o.hasClass("placeholderFixer")&&0==o.hasClass("noMoreCalc")&&""!=$(this).val()){var s=parseInt(o.css("right"));o.attr("data-oldPosition",s),o.addClass("noMoreCalc").css({right:n+s+15})}o.hasClass("placeholderFixer")&&$(this).css("padding-right",parseInt($(this).css("padding-right"))+o.width()+5)}""==$(this).val()?0==$(this).hasClass("alreadyClear")&&(t.find(".placeHolder").css({left:$(this).css("width")}),$(this).addClass("alreadyClear"),$(this).css("padding-right",10),o.hasClass("placeholderFixer")&&o.removeClass("noMoreCalc").css({right:o.attr("data-oldPosition")})):$(this).removeClass("alreadyClear")}}),$(document).on("blur",".rowBlock input, .rowBlock textarea, .rowBlock .textareaImmitator",function(){var e=$(this).parents(".rowBlock");""==$(this).val()&&$(this).css("padding-right",10),e.find(".placeHolder").removeClass("rightHolder"),$(this).parents(".rowBlock").removeClass("focus")}),$(document).on("click",".rowBlock .clickblePlaceHolder",function(){$(this).parents("form").submit()}),$(document).on("keypress","input.langCapsDepend",function(e){if(8!=e.which){var t=isCapslock(e);"capsEnabled"==t?1!=$(".capsError").hasClass("capsError")&&$(this).parents(".rowBlock").after('<div class="wpError capsError">Включен «Caps lock»</div>'):$(".capsError").remove()}}),$(document).on("keyup","input.langCapsDepend",function(e){var t=/[а-яА-Я]/;$(this).val().match(t)?1!=$(".langError").hasClass("langError")&&$(this).parents(".rowBlock").after('<div class="wpError langError">В пароле присутсвуют русские символы</div>'):$(".langError").remove()}),$(window).scroll(function(){if($(".fixedHeader").hasClass("fixedHeader")&&(window.scrollY>$(".topFormContent").height()?$(".fixedHeader").css({top:0}):$(".fixedHeader").css({top:-80})),$(".historyFilter").hasClass("historyFilter")&&(window.scrollY>=$(".historyPage").offset().top?$(".historyFilter").addClass("fixed"):$(".historyFilter").removeClass("fixed")),$(".termBlockContent").hasClass("termBlockContent")&&($('.threeSidesPage').length && window.scrollY>=$('.threeSidesPage').offset().top?$(".termBlockContent").addClass("fixed"):$(".termBlockContent").removeClass("fixed")),$(".blogPage").size()&&(window.scrollY>=80?$("header").addClass("fixed"):$("header").removeClass("fixed")),$(".PSGroupTotal.fixed").hasClass("fixed")){var e=$(".centerColomnFormContent").offset().top,t=$(".PSGroupPayment .paymentServItem:last").offset().top-$(".PSGroupTotal.fixed").height()-30;window.scrollY>e?($(".PSGroupTotal.fixed").css({top:window.scrollY-e}),window.scrollY>t?$(".PSGroupTotal.fixed").css({marginTop:-1*(window.scrollY-t)}):$(".PSGroupTotal.fixed").css({marginTop:-10})):$(".PSGroupTotal.fixed").css({top:0})}}),$(function(){$.datepicker.setDefaults($.datepicker.regional.ru),$(".datepicker").datepicker({cssPath:"/themes/wooppay_5/css/datepicker.css",beforeShow:function(e,t,n){$(this).parents(".rowBlock").addClass("datePickedInput")},onClose:function(e,t,n){$(this).parents(".rowBlock").removeClass("datePickedInput")}}),$(".datepicker").mask("99/99/9999",{placeholder:"ДД/ММ/ГГГГ"}),$.ajaxSetup({error:function(e,t){var n="";if(0===e.status)n="Отсутствует подключение.Проверьте сеть.";else if(404==e.status)n="Некорректный запрос. Страница отсутствует";else if(500==e.status)n="Произошла ошибка. Попробуйте через минуту";else if("parsererror"===t)n="Не удалось интерпретировать ответ сервера. Попробуйте через минуту";else if("timeout"===t)n="Привышен лимит ожидания";else if("abort"===t)n="Запрос прерван";else if(403==e.status)window.location.reload();else{var o=$.parseJSON(e.responseText);2==o.messageType&&o.redirect&&(window.location=o.redirect),3==o.messageType&&(n=o.text)}""!=n&&noty({id:"noty_ajax_error",text:n,type:"error",dismissQueue:!0,timeout:9e3,layout:"bottomRight"})}})}),$(document).on("click",".generateNewPass",function(e){var t=$(".generatedPassField");0==t.parents(".rowBlock").find(".showPass").hasClass("visiblePass")&&t.parents(".rowBlock").find(".showPass").click();var n=str_rand();return t.val(n),t.blur(),$(".passGeneratorBlock").slideDown(300),$(".passGeneratorBlock .copyBtn").attr("data-clipboard-text",n),$(".passGeneratorBlock .copyBtn").removeClass("complete"),!1}),$(document).on("focus",".generatedPassField",function(e){$(this).select()}),$(document).on("click",".mainLink",function(e){$(this).parents(".addMoney").addClass("fixed")}),$(document).on("click",function(e){1!=$(e.target).parents().filter(".addMoney").length&&$(".addMoney").removeClass("fixed")});var allComplete=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).*/;$(document).on("keyup blur change focus",".passSecurity",function(e){var t=$(this).val();""!=t?($(".passQality").show(300),$(".passQality").removeClass("good perfect").text("Плохой пароль")):$(".passQality").hide(300),1==allComplete.test(t)&&t.length>=8&&$(".passQality").removeClass("perfect").addClass("good").text("Средний пароль"),1==allComplete.test(t)&&t.length>=10&&$(".passQality").removeClass("good").addClass("perfect").text("хороший пароль")}),$(document).on("click",".tumblerBlock .tumblerItem:not(.active)",function(e){$(this).parents(".tumblerBlock").find(".active").removeClass("active"),$(this).addClass("active"),checkTumlerPosition()}),$(document).ready(function(){function e(){return $(".userImageBlock").addClass("hover"),n++,!1}function t(){return n--,0===n&&$(".userImageBlock").removeClass("hover"),!1}var n=0;document.addEventListener("dragenter",e),document.addEventListener("drop",t),document.addEventListener("dragleave",t)});var womenImgs=["1","14:15:16:17:18:19:33","5:3:2:4:6:7:37:38:45:46:47:48","9:10:11:8:12:13","women"],manImgs=["20","27:29:31:35","22:21:23:24:25:39:40:41:42:43:44","26:28:30:32:34:36","men"];$(document).on("click",".imageGeneratorTabs .item",function(e){$(".imageGeneratorTabs .item").removeClass("active"),$(this).addClass("active"),$(".imageForChnging").hasClass("imageForChnging")?$(".imageForChnging").attr("src",$(".sliderCover img.active").attr("src")):$(".hair").addClass(".imageForChnging").attr("src",$(".sliderCover img.active").attr("src")),fillSlider("f"==$("#sexInput").val()?womenImgs:manImgs)}),$(document).on("click",".generateBySelf",function(e){$(this).parents(".userImageBlock").find(".makeOwnAva:not(.generateBlock)").addClass("showed"),$(".userImageBlock").animate({height:240},120),fillSlider("f"==$("#sexInput").val()?womenImgs:manImgs)}),$(document).on("click",".makeOwnAva .lightBlueBtn",function(e){
$(this).parents(".makeOwnAva").removeClass("showed"),$(".userImageBlock").css({height:"auto"})}),$(document).on("click",".generateAnother",function(e){$(this).parents(".userImageBlock").find(".makeOwnAva.generateBlock").addClass("showed"),$(".userImageBlock").animate({height:270},120),randomAvaGenerator("f"==$("#sexInput").val()?womenImgs:manImgs),saveAvaAjax()}),$(document).on("click",".generateBlock .simpleLinkWIcon",function(e){randomAvaGenerator("f"==$("#sexInput").val()?womenImgs:manImgs),saveAvaAjax()}),$(document).on("click",".generateBlock .blueBtn",function(e){$(this).parents(".makeOwnAva").toggleClass("showed"),$(".userImageBlock").css({height:"auto"}),saveAvaAjax()}),$(document).on("mouseenter ",".btnsCover",function(e){$(this).addClass("opened").stop().animate({height:$(this).find(".btnsCoverInc").height()},50)}),$(document).on("mouseleave ",".btnsCover",function(e){$(this).stop().removeClass("opened").animate({height:40},50)}),$(document).on("click ",".btnItem",function(e){$(this).addClass("hideItem"),$(this).parents(".btnsCover").addClass("destenationDiv"),setTimeout(function(){$(".hideItem").removeClass("hideItem").prependTo(".btnsCover.destenationDiv .btnsCoverInc"),$(".destenationDiv").removeClass("destenationDiv").delay(50).animate({height:40},50,function(){$(".btnsCover").removeClass("opened")})},50)}),$(document).on("click ",".fastLinks .item",function(e){$(this).parents(".paymentServItem").find(".amountLine input[type=text]").val($(this).attr("data-amount")).change()}),$(document).on("click ",".rightColomnInfoPage .tabItemsLine .item:not(.active)",function(e){var t=$(this).index(".rightColomnInfoPage .tabItemsLine .item");$(".rightColomnInfoPage .tabItemsLine .item").removeClass("active"),$(this).addClass("active"),$(this).parents(".rightColomnInfoPage").find(".tabsItemContent .item").hide(0),$(this).parents(".rightColomnInfoPage").find(".tabsItemContent .item").eq(t).fadeIn(200)}),$(document).on("click ",".captchaBlock .reloadBtn",function(e){$(this).parents(".captchaBlock").find("img").click()});var glabalSliding=!1;$(document).on("keydown","body",function(e){39==e.keyCode&&0==glabalSliding&&(glabalSliding=!0,$(".popUpRightArrow").click()),37==e.keyCode&&0==glabalSliding&&(glabalSliding=!0,$(".popUpLeftArrow").click()),27==e.keyCode&&closePopUp(),e.ctrlKey&&13==e.keyCode&&($(".helpCenter").hasClass("opened")||$(".messListHead").size())&&$(".consultation_form  input[type=submit]").click()}),$(document).on("click ",".debtBlock .showHideLink,.debtBlock  .repeaterBtn",function(e){"block"==$(this).parents(".debtBlock").find(".hiddenInfo").css("display")?($(this).parents(".debtBlock").find(".hiddenInfo").slideUp(300,function(){GPImagePosition()}),$(this).parents(".debtBlock").find(".repeaterBtn").removeClass("opened"),$(this).parents(".debtBlock").find(".showHideLink").removeClass("active").text("Развернуть подробности")):($(this).parents(".debtBlock").find(".hiddenInfo").slideDown(300,function(){GPImagePosition()}),$(this).parents(".debtBlock").find(".repeaterBtn").addClass("opened"),$(this).parents(".debtBlock").find(".showHideLink").addClass("active").text("Скрыть подробности"))}),$(document).on("click ",".leftColomnImage .imageItem  .lightRedBtn",function(e){$(this).parents(".imageItem ").addClass("readyForRemove");var t=$(this).parents(".imageItem").index(".leftColomnImage .imageItem");$(".PSGroupPayment .paymentServItem").eq(t).addClass("removingElement"),$(".removingElement").append('<div class="itemRemoveCover"><div class="text">Вы убрали Услугу "'+$(".removingElement .massPaymentTitle").text()+'" из списка к оплате</div><div class="greenBtn">Восстановить</div><div class="lightGreenBtn">Удалить из группы</div></div>'),$(".removingElement").wrapInner("<div class='removeCover'></div>"),$(".removingElement .removeCover").attr("data-height",$(".removingElement .removeCover").height()).css("height",$(".removingElement .removeCover").height()),$(".removingElement .removeCover").css("height",$(".removingElement .itemRemoveCover").height()),setTimeout(" $('.removingElement').removeClass('removingElement')",300),setTimeout("GPImagePosition()",300)}),$(document).on("click ",".PSGroupPayment .itemRemoveCover .greenBtn",function(e){var t=$(this).parents(".paymentServItem"),n=t.index(".PSGroupPayment .paymentServItem");t.find(".removeCover").css("height",t.find(".removeCover").attr("data-height")),$(this).parents(".itemRemoveCover").remove(),setTimeout(function(){GPImagePosition(),$(".leftColomnImage .imageItem").eq(n).removeClass("readyForRemove"),t.find(".massPaymentTitle").unwrap()},400)}),$(document).on("click ",".PSGroupPayment .itemRemoveCover .lightGreenBtn",function(e){var t=$(this).parents(".paymentServItem"),n=t.index(".PSGroupPayment .paymentServItem");t.addClass("removeAnimation").find(".removeCover").css("height",0),$(this).parents(".itemRemoveCover").remove(),$(".leftColomnImage .imageItem").eq(n).css({opacity:0}),setTimeout(function(){$(".leftColomnImage .imageItem").eq(n).remove(),t.remove(),GPImagePosition()},400)}),$(document).on("change",".userServicesList .item .checkboxCover input",function(e){0==$(".userServicesList .item .checkboxCover input:checked").length?($(".userServicesList .item").removeClass("active"),$(".topFixedActionLine").removeClass("opened")):($(".userServicesList .item").addClass("active"),$(".topFixedActionLine").addClass("opened"))}),$(document).on("change","input.mailSubscribe",function(e){0==$("input.mailSubscribe:checked").length?$(".hiddenUnsubscribeBlock").slideDown():$(".hiddenUnsubscribeBlock").slideUp()}),$(document).on("click",".addToFave",function(e){$(this).toggleClass("addedItem")}),$(document).on("keyup",".paymentField input[type=text]",function(e){var t=$(this).val(),n=/[^\d]+/g;t=t.replace(n,""),$(this).val(t),""!=$(this).val()&&($(".paymentField .errorMessage").remove(),$(this).parents(".rowBlock").removeClass("error"))});var ajaxUniversalErrrorHendler=function(e,t){return"403"==e.status?window.location.href="/":noty({text:e.responseText,type:"error",timeout:2e4,layout:"bottomRight"}),!1};$(document).on("mouseenter",".rootDiv",function(e){$(".importantForm").removeClass("importantForm"),$(this).addClass("importantForm")});var scrollMarker=!0;$(window).resize(function(){scrollTopWidth()}),$(document).on("click",".scrollTopBtn",function(){scrollMarker=!1,$("html,body").animate({scrollTop:$(this).attr("lastPosition")},150,function(){scrollMarker=!0}),$(this).hasClass("backToBottom")?($(this).attr("lastPosition","0"),$(this).attr("title","Наверх")):($(this).attr("lastPosition",window.scrollY),$(".scrollTopBtn").addClass("backToBottom").find(".textSpan").text("Назад"),$(this).attr("title","Вернуться обратно вниз"))}),$(window).scroll(function(){$(window).scrollTop()>100&&0!=scrollMarker?$(window).scrollTop()>1.5*$(window).height()&&($("body").find(".scrollTopBtn").is(".scrollTopBtn")?$(".scrollTopBtn").addClass("shownLine").removeClass("backToBottom").attr("lastPosition",0).find(".textSpan").text("Наверх"):($("body").prepend('<div class="scrollTopBtn" lastPosition = "0"><div class="text" ><span class="textSpan">наверх</span></div></div>'),setTimeout(function(){$(".scrollTopBtn").addClass("shownLine")},10),scrollTopWidth())):$(".scrollTopBtn:not(.backToBottom)").removeClass("shownLine")}),$(document).on("mouseenter",".ticketExample",function(e){$(".mouseMoveIndicator, .mouseMoveCover").fadeIn(200),$(".ticketExample .largeImage").fadeIn(200),ImageZoom(e)}),$(document).on("mouseleave",".ticketExample",function(e){$(".mouseMoveIndicator, .mouseMoveCover").fadeOut(200),$(".ticketExample .largeImage").fadeOut(200),ImageZoom(e)}),$(document).on("mousemove",".ticketExample",function(e){$(".ticketExample").size()&&ImageZoom(e)}),$(document).ready(function(){$(document).on("paste","[contenteditable]",function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text/plain");window.document.execCommand("insertText",!1,t)})}),$(document).on("keyup",".comfortbleTextArea textarea",function(){var e=$(this),t=e.val(),n=t.split(/\r|\r\n|\n/),o=n.length;e.attr("countLines")>o&&(e.removeClass("maxHeight"),e.css("height","auto")),e.attr("countLines",o);var i=$(this).get(0).scrollHeight;$(this).get(0).clientHeight<i&&(300>i?(e.removeClass("maxHeight"),e.css({height:i+5})):e.addClass("maxHeight"))}),$(document).on("change",".checkboxItem input",function(){changeCheckbox(this)}),$(document).on("change",".radioGroupLine input",function(){changeRadioInput(this)}),window.onload=function(){checkInput("radio","radioGroupLine"),checkInput("checkbox","checkboxItem")};